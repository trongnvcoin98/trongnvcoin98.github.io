<!DOCTYPE html>
<html>
  
  <head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://telegram.org/js/telegram-widget.js"></script>
    <script type="text/javascript">
      // Global variables.
      var ballX = 150; // Ball x position.
      var ballY = 150; // Ball y position.
      var ballDX = 2; // Change in ball x position.
      var ballDY = 4; // Change in ball y position.
      var boardX = 300; // Board width.
      var boardY = 300; // Board height.
      var paddleX = 150; // Initial paddle location.
      var paddleH = 10; // Paddle height.
      var paddleD = boardY - paddleH; // Paddle depth.
      var paddleW = 150; // Paddle width.
      var canvas; // Canvas element.
      var ctx; // Canvas context.
      var gameLoop; // Game loop time interval.
      // This function is called on page load.


      function drawGameCanvas() {

      }

      function InitTele() {
        window.Telegram.Login.init();
      }
      function OpenTele() {
        window.Telegram.Login.open("C98WebGameBot");
      }
      function AuthenTele() {
        window.Telegram.Login.auth();
      }

      function onInviteClickJSON() {
        const query_id = window.Telegram.WebApp.initDataUnsafe.query_id;
        
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");

        var raw = JSON.stringify({
          "web_app_query_id": String(query_id)
        });

        fetch("https://10.10.2.82:8088/answerWebAppQuery", {
          method: 'POST',
          headers: myHeaders,
          body: raw
        })
          .then(response => response.text())
          .then(result => console.log(result))
          .catch(error => console.log('error', error));

      }

      function onInviteByApp() {
        window.Telegram.WebView.switchInlineQuery("inviteHehe", 'groups');
        // window.Telegram.WebApp.close();
      }


    </script>

<script async src="https://telegram.org/js/telegram-widget.js?22" data-telegram-login="C98WebGameBot" data-size="large" data-onauth="onTelegramAuth(user)" data-request-access="write"></script>
<script type="text/javascript">
  function onTelegramAuth(user) {
    alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + (user.username ? ', @' + user.username : '') + ')');
  }
</script>
    
  </head>
  
  <body onload="drawGameCanvas()">
    <h1>
      Canvas Racquetball2
    </h1>
    <div>
      <canvas id="gameBoard" width="300" height="300">
      </canvas>
      <button onclick="InitTele()">INitdddd</button>
      <button onclick="OpenTele()">OPEN00000</button>
      <button onclick="AuthenTele()">AUTHEN</button>
      <button onclick="onTelegramAuth()">TEleAuthen</button>
    </div>
  </body>

</html>