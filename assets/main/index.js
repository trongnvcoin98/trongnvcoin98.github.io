System.register("chunks:///_virtual/BattleScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainLogic.ts","./EventMgr.ts","./Define.ts"],(function(e){var i,n,t,l,r,o,a,u,s,c,p,g,k,b,S,f,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,a=e.Button,u=e.Node,s=e.Label,c=e.Sprite,p=e.Component},function(e){g=e.MainLogic},function(e){k=e.default,b=e.EventName},function(e){S=e.SkillType,f=e.SkillName,h=e.SkillDes}],execute:function(){var m,y,d,B,N,E,w,z,A,L,v,D,O,T,_,U,R,X,I,M,K,P,x,C,Q,q,G,F,H,j,Y,J,V,W,Z,$,ee,ie,ne,te,le,re,oe,ae,ue,se,ce,pe;r._RF.push({},"52d44wiXpBMnYyOHzLOktLI","BattleScreen",void 0);var ge=o.ccclass,ke=o.property;e("BattleScreen",(m=ge("BattleScreen"),y=ke(a),d=ke(a),B=ke(u),N=ke(s),E=ke(s),w=ke(s),z=ke({group:{name:"SKILL",style:"section"}}),A=ke(a),L=ke({group:{name:"SKILL",style:"section"}}),v=ke(a),D=ke({group:{name:"SKILL",style:"section"}}),O=ke(a),T=ke({group:{name:"SKILL",style:"section"}}),_=ke(a),U=ke({group:{name:"SKILL",style:"section"}}),R=ke(a),X=ke({group:{name:"Player info",style:"section"}}),I=ke(u),M=ke({group:{name:"Player info",style:"section"}}),K=ke(u),P=ke({group:{name:"Player info",style:"section"}}),x=ke(s),C=ke({group:{name:"Player info",style:"section"}}),Q=ke(s),q=ke({group:{name:"Player info",style:"section"}}),G=ke(s),F=ke({group:{name:"Player info",style:"section"}}),H=ke(s),m((J=i((Y=function(e){function i(){for(var i,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,t(i,"resetBtn",J,l(i)),t(i,"replayBtn",V,l(i)),t(i,"resultNotiNode",W,l(i)),t(i,"resultText",Z,l(i)),t(i,"turnText",$,l(i)),t(i,"usingSkill",ee,l(i)),t(i,"seedSkill",ie,l(i)),t(i,"bombSkill",ne,l(i)),t(i,"noSkill",te,l(i)),t(i,"rainSkill",le,l(i)),t(i,"quakeSkill",re,l(i)),t(i,"OActiveBg",oe,l(i)),t(i,"XActiveBg",ae,l(i)),t(i,"OSkillName",ue,l(i)),t(i,"OSkillDes",se,l(i)),t(i,"XSkillName",ce,l(i)),t(i,"XSkillDes",pe,l(i)),i}n(i,e);var r=i.prototype;return r.start=function(){this.resetBtn.node.on("click",this.onResetClick,this),this.replayBtn.node.on("click",this.onReplayClick,this),this.seedSkill.node.on("click",this.onSeedUsing,this),this.bombSkill.node.on("click",this.onBombUsing,this),this.noSkill.node.on("click",this.onNoSkillClick,this),this.rainSkill.node.on("click",this.onRainUsing,this),this.quakeSkill.node.on("click",this.onQuakeUsing,this),k.on(b.END_GAME,this.onEndGame,this),k.on(b.UPDATE_SKILL_NAME,this.updateSkillName,this),k.on(b.UPDATE_TURN_TEXT,this.updateTurnText,this)},r.update=function(e){},r.onResetClick=function(){g._intance.resetBoad()},r.onReplayClick=function(){this.resultNotiNode.active=!1,g._intance.resetBoad()},r.onSeedUsing=function(){g._intance.useSeed()},r.onBombUsing=function(){g._intance.useBomb()},r.onRainUsing=function(){g._intance.useRain()},r.onQuakeUsing=function(){g._intance.useQuake()},r.onEndGame=function(e){this.resultText.string=e%2==0?"O win":"X win",this.resultNotiNode.active=!0},r.updateSkillName=function(e){var i=g._intance.turn%2==0,n=i?this.OSkillName:this.XSkillName,t=i?this.OSkillDes:this.XSkillDes;switch(e){case S.SEED:this.usingSkill.string="Skill:"+f.SEED,n.string=f.SEED,t.string=h.SEED;break;case S.BOMB:this.usingSkill.string="Skill:"+f.BOMB,n.string=f.BOMB,t.string=h.BOMB;break;case S.RAIN:this.usingSkill.string="Skill:"+f.RAIN,n.string=f.RAIN,t.string=h.RAIN;break;case S.QUAKE:this.usingSkill.string="Skill:"+f.QUAKE,n.string=f.QUAKE,t.string=h.QUAKE;break;case S.NONE:this.usingSkill.string="Skill: None"}},r.updateTurnText=function(e){this.turnText.string=e,this.OActiveBg.getComponent(c).enabled="O"==e,this.XActiveBg.getComponent(c).enabled="X"==e},r.onNoSkillClick=function(){g._intance.unuseSkill()},i}(p)).prototype,"resetBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(Y.prototype,"replayBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(Y.prototype,"resultNotiNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(Y.prototype,"resultText",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(Y.prototype,"turnText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(Y.prototype,"usingSkill",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(Y.prototype,"seedSkill",[z,A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=i(Y.prototype,"bombSkill",[L,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(Y.prototype,"noSkill",[D,O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i(Y.prototype,"rainSkill",[T,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=i(Y.prototype,"quakeSkill",[U,R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=i(Y.prototype,"OActiveBg",[X,I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i(Y.prototype,"XActiveBg",[M,K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=i(Y.prototype,"OSkillName",[P,x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=i(Y.prototype,"OSkillDes",[C,Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=i(Y.prototype,"XSkillName",[q,G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i(Y.prototype,"XSkillDes",[F,H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=Y))||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/Cell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainLogic.ts"],(function(e){var t,i,n,o,l,r,u,a,c,s,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,u=e.Node,a=e.Label,c=e.Vec2,s=e.Color,h=e.Component},function(e){d=e.MainLogic}],execute:function(){var p,v,b,f,T,y,g,C,x,m,w,k,E,S,F,M,N,z,V;l._RF.push({},"6b259kWNDxGNJYbcJab93qi","Cell",void 0);var H=r.ccclass,_=r.property;e("Cell",(p=H("Cell"),v=_(u),b=_(a),f=_(u),T=_(a),y=_(a),g=_(u),C=_(a),x=_(u),p((k=t((w=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"valueNode",k,o(t)),n(t,"valueText",E,o(t)),n(t,"seedSkill",S,o(t)),n(t,"seedTurn",F,o(t)),n(t,"seedOwner",M,o(t)),n(t,"bombSkill",N,o(t)),n(t,"bombTurn",z,o(t)),n(t,"placeHolder",V,o(t)),t.pos=new c,t.onClickFun=function(){},t.onMoveTouchFun=function(){},t.onEndTouchFun=function(){},t.placeholderTween=void 0,t.deltaVec=new c,t}i(t,e);var l=t.prototype;return l.start=function(){this.resetCell(),this.node.on(u.EventType.TOUCH_START,this.onCellClick,this),this.node.on(u.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(u.EventType.TOUCH_END,this.touchEnd,this),this.node.on(u.EventType.TOUCH_CANCEL,this.touchCancel,this)},l.update=function(e){},l.setup=function(e,t,i){this.pos=e,this.onClickFun=t,""!=i?(this.valueText.string=i,this.valueNode.active=!0):(this.valueText.string="",this.valueNode.active=!1)},l.setTouchAction=function(e,t,i){this.onClickFun=e,this.onMoveTouchFun=t,this.onEndTouchFun=i},l.updateValue=function(e){this.valueText.string=e,this.valueNode.active="X"==e||"O"==e,this.valueText.color="X"==e?s.RED:s.GREEN,this.seedSkill.active="SEED"==e},l.wasUsed=function(){return this.valueNode.active},l.getValueText=function(){return this.valueText.string},l.resetCell=function(){this.valueNode.active=!1,this.valueText.string="",this.seedSkill.active=!1,this.bombSkill.active=!1},l.onCellClick=function(){this.onClickFun(this.pos)},l.updateSeed=function(e){this.seedSkill.active=!0,this.seedTurn.string=e.livedTurn.toString(),this.seedOwner.string=e.owner.toString()},l.updateBomb=function(e){this.bombSkill.active=!0,this.bombTurn.string=e.toString()},l.removeBomb=function(){this.bombSkill.active=!1},l.activePlaceHolder=function(){this.placeHolder.active=!0},l.deactivePlaceHolder=function(){this.placeHolder.active=!1},l.touchMove=function(e){var t=this.node.getWorldPosition(),i=new c;i.x=e.getUILocation().x-t.x,i.y=e.getUILocation().y-t.y;var n=Math.floor(Math.abs(i.x/40)),o=Math.floor(Math.abs(i.y/40));n=i.x<0?-n:n,o=i.y<0?o:-o;var l=i.x%40,r=i.y%40;i.x<0&&l<-20&&(n-=1),i.x>0&&l>20&&(n+=1),i.y<0&&r<20&&(o+=1),i.y>0&&r>20&&(o-=1),this.deltaVec=new c(this.pos.x+n,this.pos.y+o),this.deltaVec.x>=d._intance.sizeChess||this.deltaVec.y>=d._intance.sizeChess||this.deltaVec.x<0||this.deltaVec.y<0||this.onMoveTouchFun(this.deltaVec)},l.touchCancel=function(){this.onEndTouchFun(this.deltaVec)},l.touchEnd=function(){this.onEndTouchFun(this.pos)},t}(h)).prototype,"valueNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(w.prototype,"valueText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(w.prototype,"seedSkill",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(w.prototype,"seedTurn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(w.prototype,"seedOwner",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(w.prototype,"bombSkill",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"bombTurn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(w.prototype,"placeHolder",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/Chessboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cell.ts","./EventMgr.ts","./MainLogic.ts"],(function(e){var t,n,o,i,s,r,c,a,l,h,u,d,p,f,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,c=e.Prefab,a=e.Node,l=e.instantiate,h=e.Vec2,u=e.Component},function(e){d=e.Cell},function(e){p=e.default,f=e.EventName},function(e){C=e.MainLogic}],execute:function(){var v,b,m,_,g,E,P;s._RF.push({},"3d6aeVTvgFHbqdOXmZ05VwK","Chessboard",void 0);var T=r.ccclass,B=r.property;e("Chessboard",(v=T("Chessboard"),b=B(c),m=B(a),v((E=t((g=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,o(t,"cellPrefab",E,i(t)),o(t,"chessboardRender",P,i(t)),t.cells=[],t.curTouch=void 0,t}n(t,e);var s=t.prototype;return s.start=function(){p.on(f.UPDATE_BOARD,this.updateBoard,this),p.on(f.INIT_BOARD,this.initChessboard,this),p.on(f.UPDATE_SEED_SHOW,this.updateSeed,this),p.on(f.UPDATE_BOMB_SHOW,this.updateBomb,this),p.on(f.RESET_BOARD,this.resetChessboard,this),p.on(f.REMOVE_BOMB,this.removeBomb,this),p.on(f.UPDATE_PLACEHODLER,this.updatePlaceholder,this),p.on(f.CLEAR_PLACEHOLDER,this.clearPlaceholder,this),C._intance.initDone&&this.initChessboard()},s.update=function(e){},s.initChessboard=function(){this.cells=[];for(var e=0;e<C._intance.sizeChess;e++)for(var t=0;t<C._intance.sizeChess;t++){var n=l(this.cellPrefab);n.getComponent(d).setup(new h(t,e),this.onCellClick.bind(this),""),n.getComponent(d).setTouchAction(this.onCellClick.bind(this),this.onCellMoveTouch.bind(this),this.onCellEndTouch.bind(this)),this.cells.push(n),this.chessboardRender.addChild(n)}},s.resetChessboard=function(){this.cells.forEach((function(e){return e.getComponent(d).resetCell()}))},s.onCellClick=function(e){this.curTouch=e,C._intance.selectedCellStart(e)},s.onCellEndTouch=function(e){C._intance.selectedCellConfirm(e)},s.onCellMoveTouch=function(e){this.curTouch!=e&&C._intance.selectedCellChange(e)},s.convertXYtoNum=function(e,t){return e+C._intance.sizeChess*t},s.updateBoard=function(){for(var e=0;e<C._intance.sizeChess;e++)for(var t=0;t<C._intance.sizeChess;t++){var n=C._intance.chessboard[t][e];this.cells[this.convertXYtoNum(t,e)].getComponent(d).updateValue(n)}},s.updateSeed=function(){for(var e=C._intance.seedList,t=0;t<e.length;t++){var n=e[t],o=this.convertXYtoNum(n.pos.x,n.pos.y);this.cells[o].getComponent(d).updateSeed(n)}},s.updateBomb=function(){for(var e=C._intance.bombList,t=0;t<e.length;t++){var n=e[t],o=this.convertXYtoNum(n.pos.x,n.pos.y);this.cells[o].getComponent(d).updateBomb(n.existTurn)}},s.removeBomb=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=this.convertXYtoNum(n.pos.x,n.pos.y);this.cells[o].getComponent(d).removeBomb()}},s.updatePlaceholder=function(e){for(var t=0;t<e.length;t++){var n=this.convertXYtoNum(e[t].x,e[t].y);this.cells[n].getComponent(d).activePlaceHolder()}},s.clearPlaceholder=function(e){for(var t=0;t<e.length;t++){var n=this.convertXYtoNum(e[t].x,e[t].y);this.cells[n].getComponent(d).deactivePlaceHolder()}},t}(u)).prototype,"cellPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(g.prototype,"chessboardRender",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=g))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,c,r;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,c=n._decorator,r=n.Component}],execute:function(){var u;t._RF.push({},"5eccc6olCdFEIs4PDs9Pgf3","Define",void 0);var o=c.ccclass,E=(c.property,o("Define")(u=function(n){function t(){for(var e,t=arguments.length,c=new Array(t),r=0;r<t;r++)c[r]=arguments[r];return(e=n.call.apply(n,[this].concat(c))||this).seedGrownTurn=3,e.bombExplodeTurn=3,e.quakeNumEachSide=2,e}return e(t,n),t}(r))||u);n("default",new E),n("ObjectType",function(n){return n.SEED="SEED",n}({})),n("PlaceholderType",function(n){return n.SIZE_FIVE="SIZE_FIVE",n.X_CELLS="X_CELLS",n.O_CELLS="O_CELLS",n.EMPTY_CELLS="EMPTY_CELLS",n}({})),n("SkillType",function(n){return n.NONE="NONE",n.SEED="SEED",n.BOMB="BOMB",n.RAIN="RAIN",n.QUAKE="QUAKE",n}({})),n("SkillName",function(n){return n.SEED="Hạt mầm hy vọng",n.BOMB="Bom hẹn lượt",n.RAIN="Cơn mưa cuốn sạch",n.QUAKE="Động đất",n}({})),n("SkillDes",function(n){return n.SEED="Đánh dấu 1 vị trí qua 3 turn, thì sẽ nảy mầm lên 1 quân cờ của bên mình",n.BOMB="Đặt bom lên 1 quân cờ của đối thủ, chỉ định, nổ chậm sau 3 turn",n.RAIN="Spawn 1 ô mưa kích thước (5 × 5) trên bàn cờ",n.QUAKE="Tạo động đất và phá cờ cả 2 bên (mỗi bên 2 con).",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(E){var _,A,e;return{setters:[function(E){_=E.inheritsLoose},function(E){A=E.cclegacy,e=E.EventTarget}],execute:function(){A._RF.push({},"2a38eXO4J5LHZUihRUsJKhe","EventMgr",void 0);var t=function(E){function A(){return E.apply(this,arguments)||this}return _(A,E),A}(e);E("EventName",function(E){return E.INIT_BOARD="INIT_BOARD",E.UPDATE_BOARD="UPDATE_BOARD",E.END_GAME="END_GAME",E.RESET_BOARD="RESET_BOARD",E.UPDATE_SKILL_NAME="UPDATE_SKILL_NAME",E.UPDATE_SEED_SHOW="UPDATE_SEED_SHOW",E.UPDATE_TURN_TEXT="UPDATE_TURN_TEXT",E.UPDATE_BOMB_SHOW="UPDATE_BOMB_SHOW",E.REMOVE_BOMB="REMOVE_BOMB",E.UPDATE_PLACEHODLER="UPDATE_PLACEHODLER",E.CLEAR_PLACEHOLDER="CLEAR_PLACEHOLDER",E.SHOW_TOAST="SHOW_TOAST",E}({})),E("default",new t);A._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainLogic.ts"],(function(t){var n,e,r,o,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,o=t.Component},function(t){c=t.MainLogic}],execute:function(){var i;e._RF.push({},"0d5fc/nRipJh5kJIl5TPMco","GameMgr",void 0);var a=r.ccclass;r.property,t("GameMgr",a("GameMgr")(i=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var r=e.prototype;return r.start=function(){c._intance.initChessboardData()},r.update=function(t){},e}(o))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./BattleScreen.ts","./Cell.ts","./Chessboard.ts","./Define.ts","./SpawnObject.ts","./MainLogic.ts","./GameMgr.ts","./EventMgr.ts","./Toast.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./Define.ts"],(function(t){var e,s,i,r,n,o,h,u,l,a,c;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass},function(t){i=t.cclegacy,r=t.Vec2,n=t.Rect,o=t.Component},function(t){h=t.default,u=t.EventName},function(t){l=t.SkillType,a=t.PlaceholderType,c=t.default}],execute:function(){i._RF.push({},"93344O7rrBMkrJqDqEU3aqC","MainLogic",void 0),t("MainLogic",function(t){function i(){var e;return(e=t.call(this)||this).sizeChess=15,e.turn=0,e.chessboard=[],e.seedList=[],e.bombList=[],e.removeSkillList=[],e.initDone=!1,e.curPlaceholder=[],e.curUsingSkill=l.NONE,e}e(i,t);var o=i.prototype;return o.initChessboardData=function(){for(var t=0;t<this.sizeChess;t++){this.chessboard[t]=[];for(var e=0;e<this.sizeChess;e++)this.chessboard[t].push("")}console.log("INIT"),h.emit(u.INIT_BOARD),this.initDone=!0},o.toggleSkill=function(t){this.curUsingSkill=t,this.updateSkillText(t)},o.updateSkillText=function(t){h.emit(u.UPDATE_SKILL_NAME,t)},o.unuseSkill=function(){this.toggleSkill(l.NONE)},o.nextTurn=function(){this.turn+=1,this.updateSeedByTurn(),this.updateBombByTurn(),h.emit(u.UPDATE_BOARD),h.emit(u.UPDATE_SEED_SHOW),h.emit(u.UPDATE_BOMB_SHOW),h.emit(u.UPDATE_TURN_TEXT,this.turn%2==0?"O":"X")},o.selectedCellStart=function(t){switch(this.curUsingSkill){case l.SEED:this.setSeedAt(t)&&(this.toggleSkill(l.NONE),h.emit(u.UPDATE_SEED_SHOW));break;case l.BOMB:this.setBombAt(t)?(this.toggleSkill(l.NONE),h.emit(u.UPDATE_BOMB_SHOW)):h.emit(u.SHOW_TOAST,"Invalid bomb pos");break;case l.RAIN:h.emit(u.CLEAR_PLACEHOLDER,this.curPlaceholder),this.curPlaceholder=this.getPlaceholder(t,a.SIZE_FIVE),h.emit(u.UPDATE_PLACEHODLER,this.curPlaceholder);break;default:this.addStone(t.x,t.y,this.turn%2==1)&&(this.checkWin(t)?h.emit(u.END_GAME,this.turn):(this.nextTurn(),h.emit(u.UPDATE_BOARD)))}},o.selectedCellChange=function(t){this.curUsingSkill==l.RAIN&&(h.emit(u.CLEAR_PLACEHOLDER,this.curPlaceholder),this.curPlaceholder=this.getPlaceholder(t,a.SIZE_FIVE),h.emit(u.UPDATE_PLACEHODLER,this.curPlaceholder))},o.selectedCellConfirm=function(t){if(this.curUsingSkill==l.RAIN){this.toggleSkill(l.NONE),console.log("CONFIRM CHANGE: ",t);var e=this.curPlaceholder;this.rainInRegion(e),h.emit(u.UPDATE_SEED_SHOW),h.emit(u.UPDATE_BOMB_SHOW),h.emit(u.UPDATE_BOARD),h.emit(u.CLEAR_PLACEHOLDER,this.curPlaceholder),this.curPlaceholder=[]}},o.addStone=function(t,e,s){var i=!1;return""==this.chessboard[t][e]&&(this.chessboard[t][e]=s?"X":"O",i=!0),i},o.resetBoad=function(){for(var t=0;t<this.sizeChess;t++)for(var e=0;e<this.sizeChess;e++)this.chessboard[e][t]="";this.seedList=[],this.bombList=[],h.emit(u.UPDATE_TURN_TEXT,"O"),h.emit(u.RESET_BOARD),this.turn=0},o.getBoardAtPos=function(t,e){return t<0||t>=this.sizeChess||e<0||e>=this.sizeChess?null:this.chessboard[t][e]},o.checkWin=function(t){for(var e=0,s=t.x,i=t.x,r=t.y,n=this.getBoardAtPos(i,r);this.getBoardAtPos(s,r)==n;)e++,s++;for(s=i-1;this.getBoardAtPos(s,r)==n;)e++,s--;if(5==e)return!0;e=0;for(var o=r;this.getBoardAtPos(i,o)==n;)e++,o++;for(o=r-1;this.getBoardAtPos(i,o)==n;)e++,o--;if(5==e)return!0;for(o=i,s=r,e=0;this.getBoardAtPos(o,s)==n;)e++,o++,s++;for(o=i-1,s=r-1;this.getBoardAtPos(o,s)==n;)e++,o--,s--;if(5==e)return!0;for(o=i,s=r,e=0;this.getBoardAtPos(o,s)==n;)e++,o++,s--;for(o=i-1,s=r+1;this.getBoardAtPos(o,s)==n;)e++,o--,s++;return 5==e},o.resetSeedList=function(){this.seedList=[]},o.updateSeedByTurn=function(){for(var t=0;t<this.seedList.length;t++){var e=this.seedList[t];this.turn%2==0&&"O"==e.owner&&(e.livedTurn+=1),this.turn%2==1&&"X"==e.owner&&(e.livedTurn+=1),e.livedTurn>=c.seedGrownTurn&&(this.chessboard[e.pos.x][e.pos.y]=e.owner,this.checkWin(e.pos)&&h.emit(u.END_GAME,this.turn))}this.seedList=this.seedList.filter((function(t){return t.livedTurn<c.seedGrownTurn}))},o.addRemoveSkillPos=function(t,e){var s={cellNum:t,skillOrder:e};this.removeSkillList.push(s)},o.useSeed=function(){this.toggleSkill(l.SEED)},o.setSeedAt=function(t){if(""!=this.chessboard[t.x][t.y])return!1;this.chessboard[t.x][t.y]="SEED";var e={pos:t,owner:this.turn%2==0?"O":"X",livedTurn:1};return this.seedList.push(e),!0},o.removeSeed=function(t){for(var e=0;e<t.length;e++)this.chessboard[t[e].pos.x][t[e].pos.y]=""},o.useBomb=function(){this.toggleSkill(l.BOMB)},o.setBombAt=function(t){if(this.chessboard[t.x][t.y]!=(this.turn%2==0?"X":"O"))return!1;var e={pos:t,owner:this.turn%2==0?"O":"X",existTurn:1};return this.bombList.push(e),!0},o.updateBombByTurn=function(){for(var t=0;t<this.bombList.length;t++)if(this.bombList[t].existTurn+=1,this.bombList[t].existTurn>=c.bombExplodeTurn){var e=this.bombList[t].pos;this.chessboard[e.x][e.y]=""}var s=this.bombList.filter((function(t){return t.existTurn>=c.bombExplodeTurn}));this.bombList=this.bombList.filter((function(t){return t.existTurn<c.bombExplodeTurn})),s.length>0&&h.emit(u.REMOVE_BOMB,s)},o.getPlaceholder=function(t,e){var s=[];if(e==a.SIZE_FIVE)for(var i=t.y-2;i<=t.y+2;i++)for(var n=t.x-2;n<=t.x+2;n++)if(!(n<0||i<0||n>=this.sizeChess||i>=this.sizeChess)){var o=new r(n,i);s.push(o)}return s},o.useRain=function(){this.toggleSkill(l.RAIN)},o.rainInRegion=function(t){var e=this.getRect(t),s=this.turn%2==0?"O":"X",i=this.bombList.filter((function(t){return t.owner!=s&&e.contains(t.pos)}));i.length>0&&h.emit(u.REMOVE_BOMB,i);var r=this.seedList.filter((function(t){return t.owner!=s&&e.contains(t.pos)}));this.removeSeed(r),this.seedList=this.seedList.filter((function(t){return t.owner==s||!e.contains(t.pos)})),this.bombList=this.bombList.filter((function(t){return t.owner==s||!e.contains(t.pos)}))},o.getRect=function(t){for(var e=new r(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),s=new r(Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER),i=0;i<t.length;i++)t[i].x<e.x&&(e.x=t[i].x),t[i].y<e.y&&(e.y=t[i].y),t[i].x>s.x&&(s.x=t[i].x),t[i].y>s.y&&(s.y=t[i].y);return new n(e.x,e.y,Math.abs(s.x-e.x),Math.abs(s.y-e.y))},o.useQuake=function(){this.toggleSkill(l.QUAKE),this.destroyChessman()},o.destroyChessman=function(){for(var t=c.quakeNumEachSide,e=c.quakeNumEachSide,s=[],i=0;i<this.bombList.length;i++){var n=this.bombList[i];if("O"==n.owner&&t>0){var o=this.bombList[i].pos;this.chessboard[o.x][o.y]="",s.push(n),t-=1}if("X"==n.owner&&e>0){var l=this.bombList[i].pos;this.chessboard[l.x][l.y]="",s.push(n),e-=1}}if(h.emit(u.REMOVE_BOMB,s),this.bombList=this.bombList.filter((function(t){return-1==s.indexOf(t)})),t>0||e>0){for(var a=[],d=[],f=0;f<this.sizeChess;f++)for(var E=0;E<this.sizeChess;E++)"X"==this.chessboard[f][E]&&a.push(new r(f,E)),"O"==this.chessboard[f][E]&&d.push(new r(f,E));for(;t>0&&a.length>0;){var b=Math.floor(Math.random()*a.length);this.chessboard[a[b].x][a[b].y]="",a.splice(b,1),t-=1}for(;e>0&&d.length>0;){var m=Math.floor(Math.random()*d.length);this.chessboard[d[m].x][d[m].y]="",d.splice(m,1),e-=1}}h.emit(u.UPDATE_BOARD)},s(i,null,[{key:"_intance",get:function(){return i.instance||(i.instance=new i),i.instance}}]),i}(o)).instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/SpawnObject.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t._decorator,r=t.Component}],execute:function(){var o;n._RF.push({},"bafeec+/RNLSYqbhmP2HX2C","SpawnObject",void 0);var u=c.ccclass;c.property,t("SpawnObject",u("SpawnObject")(o=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var c=n.prototype;return c.start=function(){},c.update=function(t){},n}(r))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/Toast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts"],(function(t){var e,o,n,i,r,a,s,c,u,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,c=t.Label,u=t.Component},function(t){l=t.default,p=t.EventName}],execute:function(){var f,h,d,v,T,y,b;r._RF.push({},"37cddtsfLxDhp8YLDzDqfQw","Toast",void 0);var g=a.ccclass,w=a.property;t("Toast",(f=g("Toast"),h=w(s),d=w(c),f((y=e((T=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"toastNode",y,i(e)),n(e,"toastTxt",b,i(e)),e}o(e,t);var r=e.prototype;return r.start=function(){l.on(p.SHOW_TOAST,this.showToast,this)},r.update=function(t){},r.showToast=function(t){var e=this;this.toastTxt.string=t,this.toastNode.active=!0,this.scheduleOnce((function(){e.toastNode.active=!1}),2)},e}(u)).prototype,"toastNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(T.prototype,"toastTxt",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T))||v));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});