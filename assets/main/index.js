System.register("chunks:///_virtual/BattleScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainLogic.ts","./EventMgr.ts","./Define.ts"],(function(i){var e,t,n,l,r,o,a,c,u,s,k,S,p,g,h,f,m,b,y;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,l=i.assertThisInitialized},function(i){r=i.cclegacy,o=i._decorator,a=i.Button,c=i.Node,u=i.Label,s=i.tween,k=i.UIOpacity,S=i.Component},function(i){p=i.MainLogic},function(i){g=i.default,h=i.EventName},function(i){f=i.default,m=i.SkillType,b=i.SkillName,y=i.SkillDes}],execute:function(){var d,B,T,N,E,I,O,w,v,A,_,z,U,C,L,X,D,R,M,x,K,Q,G,P,F,q,H,j,Y,J,V,W,Z,$,ii,ei,ti,ni,li,ri,oi,ai,ci,ui,si,ki,Si,pi,gi,hi,fi,mi,bi,yi,di,Bi,Ti,Ni,Ei,Ii,Oi,wi,vi;r._RF.push({},"52d44wiXpBMnYyOHzLOktLI","BattleScreen",void 0);var Ai=o.ccclass,_i=o.property;i("BattleScreen",(d=Ai("BattleScreen"),B=_i(a),T=_i(a),N=_i(c),E=_i(u),I=_i(u),O=_i(u),w=_i({group:{name:"SKILL",style:"section"}}),v=_i(a),A=_i({group:{name:"SKILL",style:"section"}}),_=_i(a),z=_i({group:{name:"SKILL",style:"section"}}),U=_i(a),C=_i({group:{name:"SKILL",style:"section"}}),L=_i(a),X=_i({group:{name:"SKILL",style:"section"}}),D=_i(a),R=_i({group:{name:"SKILL",style:"section"}}),M=_i(a),x=_i({group:{name:"Skill Info",style:"section"}}),K=_i(c),Q=_i({group:{name:"Skill Info",style:"section"}}),G=_i(c),P=_i({group:{name:"Skill Info",style:"section"}}),F=_i(u),q=_i({group:{name:"Skill Info",style:"section"}}),H=_i(u),j=_i({group:{name:"Skill Info",style:"section"}}),Y=_i(u),J=_i({group:{name:"Skill Info",style:"section"}}),V=_i(u),W=_i({group:{name:"Skill Info",style:"section"}}),Z=_i(u),$=_i({group:{name:"Skill Info",style:"section"}}),ii=_i(u),ei=_i({group:{name:"Skill Info",style:"section"}}),ti=_i(a),ni=_i({group:{name:"Skill Info",style:"section"}}),li=_i(a),d((ai=e((oi=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=i.call.apply(i,[this].concat(r))||this,n(e,"resetBtn",ai,l(e)),n(e,"replayBtn",ci,l(e)),n(e,"resultNotiNode",ui,l(e)),n(e,"resultText",si,l(e)),n(e,"turnText",ki,l(e)),n(e,"usingSkill",Si,l(e)),n(e,"seedSkill",pi,l(e)),n(e,"bombSkill",gi,l(e)),n(e,"noSkill",hi,l(e)),n(e,"rainSkill",fi,l(e)),n(e,"quakeSkill",mi,l(e)),n(e,"timeSkill",bi,l(e)),n(e,"OActiveBg",yi,l(e)),n(e,"XActiveBg",di,l(e)),n(e,"OSkillName",Bi,l(e)),n(e,"OSkillDes",Ti,l(e)),n(e,"XSkillName",Ni,l(e)),n(e,"XSkillDes",Ei,l(e)),n(e,"OTime",Ii,l(e)),n(e,"XTime",Oi,l(e)),n(e,"leftUseSkillBtn",wi,l(e)),n(e,"rightUseSkillBtn",vi,l(e)),e.curSelectSkill=null,e}t(e,i);var r=e.prototype;return r.start=function(){this.resetBtn.node.on("click",this.onResetClick,this),this.replayBtn.node.on("click",this.onReplayClick,this),this.seedSkill.node.on("click",this.onSeedClick,this),this.bombSkill.node.on("click",this.onBombClick,this),this.noSkill.node.on("click",this.onNoSkillClick,this),this.rainSkill.node.on("click",this.onRainClick,this),this.quakeSkill.node.on("click",this.onQuakeClick,this),this.timeSkill.node.on("click",this.onTimeClick,this),this.leftUseSkillBtn.node.on("click",this.onOUsingSkillClick,this),this.rightUseSkillBtn.node.on("click",this.onXUsingSkillClick,this),g.on(h.START_GAME,this.onStartGame,this),g.on(h.END_GAME,this.onEndGame,this),g.on(h.UPDATE_TURN_TEXT,this.updateTurnText,this),g.on(h.CLEAR_SKILL_USING,this.clearSkillUsing,this)},r.update=function(i){this.OTime.node.active=p._intance.turn%2==0,this.XTime.node.active=p._intance.turn%2!=0;var e=p._intance.turn%2==0?this.OTime:this.XTime;if((p._intance.turn%2==0?p._intance.oTurnReduceTime:p._intance.xTurnReduceTime)>0){var t=Math.ceil(f.turnTime/2);e.string=(t-p._intance.curTime).toString()}else e.string=(f.turnTime-p._intance.curTime).toString()},r.onResetClick=function(){p._intance.resetBoad()},r.onReplayClick=function(){this.resultNotiNode.active=!1,p._intance.resetBoad()},r.onOUsingSkillClick=function(){switch(this.curSelectSkill){case m.SEED:p._intance.useSeed();break;case m.RAIN:p._intance.useRain()}this.clearUsingSkillText()},r.onXUsingSkillClick=function(){switch(this.curSelectSkill){case m.QUAKE:p._intance.useQuake();break;case m.BOMB:p._intance.useBomb()}this.clearUsingSkillText()},r.onSeedClick=function(){this.curSelectSkill=m.SEED,this.updateSkillName(this.curSelectSkill)},r.onBombClick=function(){this.curSelectSkill=m.BOMB,this.updateSkillName(this.curSelectSkill)},r.onRainClick=function(){this.curSelectSkill=m.RAIN,this.updateSkillName(this.curSelectSkill)},r.onQuakeClick=function(){this.curSelectSkill=m.QUAKE,this.updateSkillName(this.curSelectSkill)},r.onTimeClick=function(){this.curSelectSkill=m.TIME,this.updateSkillName(this.curSelectSkill)},r.clearUsingSkillText=function(){this.curSelectSkill=m.NONE,this.updateSkillName(this.curSelectSkill)},r.onStartGame=function(){this.flickerPlayerBg()},r.onEndGame=function(i){this.resultText.string=i%2==0?"O win":"X win",this.resultNotiNode.active=!0},r.updateSkillName=function(i){var e=p._intance.turn%2==0;if((-1!=f.xSkills.findIndex((function(e){return e==i}))||e)&&(-1!=f.oSkills.findIndex((function(e){return e==i}))||!e)){var t=e?this.OSkillName:this.XSkillName,n=e?this.OSkillDes:this.XSkillDes;switch(i){case m.SEED:this.usingSkill.string="Skill:"+b.SEED,t.string=b.SEED,n.string=y.SEED;break;case m.BOMB:this.usingSkill.string="Skill:"+b.BOMB,t.string=b.BOMB,n.string=y.BOMB;break;case m.RAIN:this.usingSkill.string="Skill:"+b.RAIN,t.string=b.RAIN,n.string=y.RAIN;break;case m.QUAKE:this.usingSkill.string="Skill:"+b.QUAKE,t.string=b.QUAKE,n.string=y.QUAKE;break;case m.TIME:this.usingSkill.string="Skill:"+b.TIME,t.string=b.TIME,n.string=y.TIME;break;case m.NONE:}}},r.updateTurnText=function(i){this.turnText.string=i,this.OActiveBg.active="O"==i,this.XActiveBg.active="X"==i},r.clearSkillUsing=function(){this.OSkillName.string="----------------",this.OSkillDes.string="-------",this.XSkillName.string="----------------",this.XSkillDes.string="-------"},r.flickerPlayerBg=function(){s(this.OActiveBg.getComponent(k)).to(.5,{opacity:10}).to(.5,{opacity:255}).union().repeatForever().start(),s(this.XActiveBg.getComponent(k)).to(.5,{opacity:10}).to(.5,{opacity:255}).union().repeatForever().start()},r.onNoSkillClick=function(){p._intance.unuseSkill()},e}(S)).prototype,"resetBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=e(oi.prototype,"replayBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ui=e(oi.prototype,"resultNotiNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),si=e(oi.prototype,"resultText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ki=e(oi.prototype,"turnText",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Si=e(oi.prototype,"usingSkill",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pi=e(oi.prototype,"seedSkill",[w,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gi=e(oi.prototype,"bombSkill",[A,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hi=e(oi.prototype,"noSkill",[z,U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fi=e(oi.prototype,"rainSkill",[C,L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mi=e(oi.prototype,"quakeSkill",[X,D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bi=e(oi.prototype,"timeSkill",[R,M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yi=e(oi.prototype,"OActiveBg",[x,K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),di=e(oi.prototype,"XActiveBg",[Q,G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bi=e(oi.prototype,"OSkillName",[P,F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ti=e(oi.prototype,"OSkillDes",[q,H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ni=e(oi.prototype,"XSkillName",[j,Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ei=e(oi.prototype,"XSkillDes",[J,V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ii=e(oi.prototype,"OTime",[W,Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oi=e(oi.prototype,"XTime",[$,ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wi=e(oi.prototype,"leftUseSkillBtn",[ei,ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vi=e(oi.prototype,"rightUseSkillBtn",[ni,li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ri=oi))||ri));r._RF.pop()}}}));

System.register("chunks:///_virtual/Bot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainLogic.ts","./EventMgr.ts"],(function(e){var n,t,r,i,s,c;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy,r=e.Vec2},function(e){i=e.MainLogic},function(e){s=e.default,c=e.EventName}],execute:function(){t._RF.push({},"52cfbYjF8BO47PUKyaqK0A2","Bot",void 0),e("Bot",function(){function e(){this.curChessboard=[],this.sizeChess=0,this.WIN_SCORE=1e8}var t=e.prototype;return t.calculateNextMove=function(){new r,i._intance.turn;this.curChessboard=i._intance.chessboard;var e=this.searchWinMove(this.curChessboard);if(null!=e)return console.log("WIN MOVE: ",e),e;var n=this.generateMove(this.curChessboard);return n[Math.floor(Math.random()*n.length)]},t.searchWinMove=function(e){var n=this.generateMove(e),t=i._intance.turn%2==0?"O":"X";console.log("VALUE CHEK ",t),s.emit(c.CLEAR_PLACEHOLDER),s.emit(c.UPDATE_PLACEHODLER,n);var r=[];this.sizeChess=i._intance.sizeChess,e.forEach((function(e){return r.push(Object.assign({},e))}));for(var u=0;u<n.length;u++){var o=n[u];r[o.x][o.y]=t,e.forEach((function(e){return r.push(Object.assign({},e))}))}return null},t.generateMove=function(e){for(var n=[],t=i._intance.sizeChess,s=0;s<t;s++)for(var c=0;c<t;c++)if(""==e[s][c]){if(s>0){if(c>0&&(""!=e[s-1][c-1]||""!=e[s][c-1])){var u=new r(s,c);n.push(u);continue}if(c<t-1&&(""!=e[s-1][c+1]||""!=e[s][c+1])){var o=new r(s,c);n.push(o);continue}if(""!=e[s-1][c]){var a=new r(s,c);n.push(a);continue}}if(s<t-1&&c>0){if(""!=e[s+1][c-1]||""!=e[s][c-1]){var h=new r(s,c);n.push(h);continue}if(c<t-1&&(e[s+1][c+1]||""!=e[s][c+1])){var f=new r(s,c);n.push(f);continue}if(""!=e[s+1][c]){var v=new r(s,c);n.push(v);continue}}}return n},t.getBoardScore=function(e){return 0},t.evaluateHoz=function(e,n,t){for(var r=0;r<e.length;r++)for(var i=0;i<e.length;i++);},t.evaluateDir=function(e,n,t,r,i,s){e[n][t]==(r?"X":"O")?s[0]+=1:""==e[n][t]&&(s[0]>0&&(s[1]-=1,s[2]+=this.getConsecutiveSetScore(s[0],s[1],r==i),s[0]=0),s[1]=1)},t.getConsecutiveSetScore=function(e,n,t){var r=1e6;if(2==n&&e<5)return 0;switch(e){case 5:return this.WIN_SCORE;case 4:return t?r:0==n?25e4:200;case 3:return 0==n?t?5e4:200:t?10:5;case 2:return 0==n?t?7:5:3;case 1:return 1}return 0},n(e,null,[{key:"_instance",get:function(){return e.instance||(e.instance=new e),e.instance}}]),e}()).instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/Cell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainLogic.ts"],(function(e){var t,i,n,o,l,r,u,a,c,s,h,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,u=e.Node,a=e.Label,c=e.Vec2,s=e.Color,h=e.UITransform,d=e.Component},function(e){p=e.MainLogic}],execute:function(){var v,b,f,T,y,g,C,m,x,w,k,E,S,F,M,N,z,V,H;l._RF.push({},"6b259kWNDxGNJYbcJab93qi","Cell",void 0);var _=r.ccclass,O=r.property;e("Cell",(v=_("Cell"),b=O(u),f=O(a),T=O(u),y=O(a),g=O(a),C=O(u),m=O(a),x=O(u),v((E=t((k=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"valueNode",E,o(t)),n(t,"valueText",S,o(t)),n(t,"seedSkill",F,o(t)),n(t,"seedTurn",M,o(t)),n(t,"seedOwner",N,o(t)),n(t,"bombSkill",z,o(t)),n(t,"bombTurn",V,o(t)),n(t,"placeHolder",H,o(t)),t.pos=new c,t.onClickFun=function(){},t.onMoveTouchFun=function(){},t.onEndTouchFun=function(){},t.placeholderTween=void 0,t.deltaVec=new c,t}i(t,e);var l=t.prototype;return l.start=function(){this.resetCell(),this.node.on(u.EventType.TOUCH_START,this.onCellClick,this),this.node.on(u.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(u.EventType.TOUCH_END,this.touchEnd,this),this.node.on(u.EventType.TOUCH_CANCEL,this.touchCancel,this)},l.update=function(e){},l.setup=function(e,t,i){this.pos=e,this.onClickFun=t,""!=i?(this.valueText.string=i,this.valueNode.active=!0):(this.valueText.string="",this.valueNode.active=!1)},l.setTouchAction=function(e,t,i){this.onClickFun=e,this.onMoveTouchFun=t,this.onEndTouchFun=i},l.updateValue=function(e){this.valueText.string=e,this.valueNode.active="X"==e||"O"==e,this.valueText.color="X"==e?s.RED:s.GREEN,this.seedSkill.active="SEED"==e},l.wasUsed=function(){return this.valueNode.active},l.getValueText=function(){return this.valueText.string},l.resetCell=function(){this.valueNode.active=!1,this.valueText.string="",this.seedSkill.active=!1,this.bombSkill.active=!1},l.onCellClick=function(){this.onClickFun(this.pos)},l.updateSeed=function(e){this.seedSkill.active=!0,this.seedTurn.string=e.livedTurn.toString(),this.seedOwner.string=e.owner.toString()},l.updateBomb=function(e){this.bombSkill.active=!0,this.bombTurn.string=e.toString()},l.removeBomb=function(){this.bombSkill.active=!1},l.activePlaceHolder=function(){this.placeHolder.active=!0},l.deactivePlaceHolder=function(){this.placeHolder.active=!1},l.touchMove=function(e){var t=this.node.getWorldPosition(),i=this.node.getComponent(h).width,n=new c;n.x=e.getUILocation().x-t.x,n.y=e.getUILocation().y-t.y;var o=Math.floor(Math.abs(n.x/i)),l=Math.floor(Math.abs(n.y/i));o=n.x<0?-o:o,l=n.y<0?l:-l;var r=n.x%i,u=n.y%i;n.x<0&&r<-i/2&&(o-=1),n.x>0&&r>i/2&&(o+=1),n.y<0&&u<i/2&&(l+=1),n.y>0&&u>i/2&&(l-=1),this.deltaVec=new c(this.pos.x+o,this.pos.y+l),this.deltaVec.x>=p._intance.sizeChess||this.deltaVec.y>=p._intance.sizeChess||this.deltaVec.x<0||this.deltaVec.y<0||this.onMoveTouchFun(this.deltaVec)},l.touchCancel=function(){this.onEndTouchFun(this.deltaVec)},l.touchEnd=function(){this.onEndTouchFun(this.pos)},t}(d)).prototype,"valueNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(k.prototype,"valueText",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(k.prototype,"seedSkill",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(k.prototype,"seedTurn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(k.prototype,"seedOwner",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"bombSkill",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(k.prototype,"bombTurn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(k.prototype,"placeHolder",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=k))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/Chessboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cell.ts","./EventMgr.ts","./MainLogic.ts"],(function(e){var t,n,o,i,s,r,c,l,a,h,u,d,p,f,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,c=e.Prefab,l=e.Node,a=e.instantiate,h=e.Vec2,u=e.Component},function(e){d=e.Cell},function(e){p=e.default,f=e.EventName},function(e){C=e.MainLogic}],execute:function(){var v,b,m,_,g,P,E;s._RF.push({},"3d6aeVTvgFHbqdOXmZ05VwK","Chessboard",void 0);var T=r.ccclass,B=r.property;e("Chessboard",(v=T("Chessboard"),b=B(c),m=B(l),v((P=t((g=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,o(t,"cellPrefab",P,i(t)),o(t,"chessboardRender",E,i(t)),t.cells=[],t.curTouch=void 0,t.curPlaceHolder=[],t}n(t,e);var s=t.prototype;return s.start=function(){p.on(f.UPDATE_BOARD,this.updateBoard,this),p.on(f.INIT_BOARD,this.initChessboard,this),p.on(f.UPDATE_SEED_SHOW,this.updateSeed,this),p.on(f.UPDATE_BOMB_SHOW,this.updateBomb,this),p.on(f.RESET_BOARD,this.resetChessboard,this),p.on(f.REMOVE_BOMB,this.removeBomb,this),p.on(f.UPDATE_PLACEHODLER,this.updatePlaceholder,this),p.on(f.CLEAR_PLACEHOLDER,this.clearPlaceholder,this),C._intance.initDone&&this.initChessboard()},s.update=function(e){},s.initChessboard=function(){this.cells=[];for(var e=0;e<C._intance.sizeChess;e++)for(var t=0;t<C._intance.sizeChess;t++){var n=a(this.cellPrefab);n.getComponent(d).setup(new h(t,e),this.onCellClick.bind(this),""),n.getComponent(d).setTouchAction(this.onCellClick.bind(this),this.onCellMoveTouch.bind(this),this.onCellEndTouch.bind(this)),this.cells.push(n),this.chessboardRender.addChild(n)}},s.resetChessboard=function(){this.cells.forEach((function(e){return e.getComponent(d).resetCell()}))},s.onCellClick=function(e){this.curTouch=e,C._intance.selectedCellStart(e)},s.onCellEndTouch=function(e){C._intance.selectedCellConfirm(e)},s.onCellMoveTouch=function(e){this.curTouch!=e&&C._intance.selectedCellChange(e)},s.convertXYtoNum=function(e,t){return e+C._intance.sizeChess*t},s.updateBoard=function(){for(var e=0;e<C._intance.sizeChess;e++)for(var t=0;t<C._intance.sizeChess;t++){var n=C._intance.chessboard[t][e];this.cells[this.convertXYtoNum(t,e)].getComponent(d).updateValue(n)}},s.updateSeed=function(){for(var e=C._intance.seedList,t=0;t<e.length;t++){var n=e[t],o=this.convertXYtoNum(n.pos.x,n.pos.y);this.cells[o].getComponent(d).updateSeed(n)}},s.updateBomb=function(){for(var e=C._intance.bombList,t=0;t<e.length;t++){var n=e[t],o=this.convertXYtoNum(n.pos.x,n.pos.y);this.cells[o].getComponent(d).updateBomb(n.existTurn)}},s.removeBomb=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=this.convertXYtoNum(n.pos.x,n.pos.y);this.cells[o].getComponent(d).removeBomb()}},s.updatePlaceholder=function(e){this.curPlaceHolder=e;for(var t=0;t<e.length;t++){var n=this.convertXYtoNum(e[t].x,e[t].y);this.cells[n].getComponent(d).activePlaceHolder()}},s.clearPlaceholder=function(e){for(var t=e||this.curPlaceHolder,n=0;n<t.length;n++){var o=this.convertXYtoNum(t[n].x,t[n].y);this.cells[o].getComponent(d).deactivePlaceHolder()}},t}(u)).prototype,"cellPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(g.prototype,"chessboardRender",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=g))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["cc"],(function(n){var t,c;return{setters:[function(n){t=n.cclegacy,c=n._decorator}],execute:function(){t._RF.push({},"5eccc6olCdFEIs4PDs9Pgf3","Define",void 0);c.ccclass,c.property;var E=n("SkillType",function(n){return n.NONE="NONE",n.SEED="SEED",n.BOMB="BOMB",n.RAIN="RAIN",n.QUAKE="QUAKE",n.TIME="TIME",n}({}));n("default",new function(){this.seedGrownTurn=3,this.bombExplodeTurn=3,this.quakeNumEachSide=2,this.turnTime=25,this.timeSkillTurnNum=5,this.oSkills=[E.SEED,E.RAIN],this.xSkills=[E.BOMB,E.QUAKE]}),n("ObjectType",function(n){return n.SEED="SEED",n}({})),n("PlaceholderType",function(n){return n.NONE="NONE",n.SIZE_FIVE="SIZE_FIVE",n.X_CELLS="X_CELLS",n.O_CELLS="O_CELLS",n.EMPTY_CELLS="EMPTY_CELLS",n}({})),n("SkillName",function(n){return n.SEED="Hạt mầm hy vọng",n.BOMB="Bom hẹn lượt",n.RAIN="Cơn mưa cuốn sạch",n.QUAKE="Động đất",n.TIME="Giảm thời gian",n}({})),n("SkillDes",function(n){return n.SEED="Đánh dấu 1 vị trí qua 3 turn, thì sẽ nảy mầm lên 1 quân cờ của bên mình",n.BOMB="Đặt bom lên 1 quân cờ của đối thủ, chỉ định, nổ chậm sau 3 turn",n.RAIN="Spawn 1 ô mưa kích thước (5 × 5) trên bàn cờ",n.QUAKE="Tạo động đất và phá cờ cả 2 bên (mỗi bên 2 con).",n.TIME="Trừ 50% thơi gian chơi của đối thủ trong 5 turn",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(E){var _,A,T;return{setters:[function(E){_=E.inheritsLoose},function(E){A=E.cclegacy,T=E.EventTarget}],execute:function(){A._RF.push({},"2a38eXO4J5LHZUihRUsJKhe","EventMgr",void 0);var e=function(E){function A(){return E.apply(this,arguments)||this}return _(A,E),A}(T);E("EventName",function(E){return E.START_GAME="START_GAME",E.INIT_BOARD="INIT_BOARD",E.UPDATE_BOARD="UPDATE_BOARD",E.END_GAME="END_GAME",E.RESET_BOARD="RESET_BOARD",E.UPDATE_SKILL_NAME="UPDATE_SKILL_NAME",E.UPDATE_SEED_SHOW="UPDATE_SEED_SHOW",E.UPDATE_TURN_TEXT="UPDATE_TURN_TEXT",E.UPDATE_BOMB_SHOW="UPDATE_BOMB_SHOW",E.REMOVE_BOMB="REMOVE_BOMB",E.UPDATE_PLACEHODLER="UPDATE_PLACEHODLER",E.CLEAR_PLACEHOLDER="CLEAR_PLACEHOLDER",E.SHOW_TOAST="SHOW_TOAST",E.CLEAR_SKILL_USING="CLEAR_SKILL_USING",E.START_PLAY_WITH_BOT="START_PLAY_WITH_BOT",E}({})),E("default",new e);A._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MainLogic.ts","./EventMgr.ts"],(function(t){var n,i,e,r,a,o,c,l,s,u,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,c=t.Node,l=t.Button,s=t.Component},function(t){u=t.MainLogic},function(t){p=t.default,f=t.EventName}],execute:function(){var h,y,m,B,g,d,b,v,M;a._RF.push({},"0d5fc/nRipJh5kJIl5TPMco","GameMgr",void 0);var _=o.ccclass,G=o.property;t("GameMgr",(h=_("GameMgr"),y=G(c),m=G(l),B=G(l),h((b=n((d=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,e(n,"startScr",b,r(n)),e(n,"playBtn",v,r(n)),e(n,"playWithBotBtn",M,r(n)),n}i(n,t);var a=n.prototype;return a.start=function(){this.playBtn.node.on("click",this.startGame,this),this.playWithBotBtn.node.on("click",this.startPlayWBot,this),this.startScr.active=!0},a.update=function(t){},a.startGame=function(){this.startScr.active=!1,u._intance.initChessboardData(),p.emit(f.START_GAME)},a.startPlayWBot=function(){this.startGame(),p.emit(f.START_PLAY_WITH_BOT),u._intance.startPlayWithBot()},n}(s)).prototype,"startScr",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(d.prototype,"playBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(d.prototype,"playWithBotBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=d))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./BattleScreen.ts","./Bot.ts","./Cell.ts","./Chessboard.ts","./Define.ts","./SpawnObject.ts","./MainLogic.ts","./GameMgr.ts","./EventMgr.ts","./Toast.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./Define.ts","./Bot.ts"],(function(t){var e,i,s,r,n,o,h,u,c,l,a,d;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy,r=t.Vec2,n=t.Rect,o=t.Component},function(t){h=t.default,u=t.EventName},function(t){c=t.default,l=t.SkillType,a=t.PlaceholderType},function(t){d=t.Bot}],execute:function(){s._RF.push({},"93344O7rrBMkrJqDqEU3aqC","MainLogic",void 0),t("MainLogic",function(t){function s(){var e;return(e=t.call(this)||this).sizeChess=8,e.turn=0,e.chessboard=[],e.seedList=[],e.bombList=[],e.removeSkillList=[],e.initDone=!1,e.curPlaceholder=[],e.curUsingSkill=l.NONE,e.timeSchedule=void 0,e.curTime=0,e.oTurnReduceTime=0,e.xTurnReduceTime=0,e.isPlayWithBot=!1,e}e(s,t);var o=s.prototype;return o.startCountTime=function(){var t=this;this.curTime=0,this.timeSchedule=setInterval((function(){t.curTime+=1;var e=t.xTurnReduceTime>0?Math.ceil(c.turnTime/2):c.turnTime,i=t.oTurnReduceTime>0?Math.ceil(c.turnTime/2):c.turnTime,s=t.turn%2==0?i:e;t.curTime>=s&&(h.emit(u.END_GAME,t.turn+1),t.endCountTime())}),1e3)},o.endCountTime=function(){this.curTime=0,clearInterval(this.timeSchedule)},o.initChessboardData=function(){for(var t=0;t<this.sizeChess;t++){this.chessboard[t]=[];for(var e=0;e<this.sizeChess;e++)this.chessboard[t].push("")}h.emit(u.INIT_BOARD),this.initDone=!0,this.startCountTime()},o.toggleSkill=function(t){h.emit(u.CLEAR_PLACEHOLDER),this.curUsingSkill=t,t==l.NONE&&this.showPlaceHolder(a.NONE)},o.unuseSkill=function(){this.toggleSkill(l.NONE)},o.nextTurn=function(){this.turn+=1,this.curTime=0,this.curUsingSkill=l.NONE,this.updateSeedByTurn(),this.updateBombByTurn(),h.emit(u.UPDATE_BOARD),h.emit(u.UPDATE_SEED_SHOW),h.emit(u.UPDATE_BOMB_SHOW),h.emit(u.UPDATE_TURN_TEXT,this.turn%2==0?"O":"X"),this.oTurnReduceTime>0&&(this.oTurnReduceTime-=1),this.xTurnReduceTime>0&&(this.xTurnReduceTime-=1),h.emit(u.CLEAR_SKILL_USING),this.isPlayWithBot&&this.turn%2==1&&this.onInBotTurn()},o.selectedCellStart=function(t){switch(this.curUsingSkill){case l.SEED:this.setSeedAt(t)&&(this.toggleSkill(l.NONE),this.showPlaceHolder(a.NONE),h.emit(u.UPDATE_SEED_SHOW));break;case l.BOMB:this.setBombAt(t)?(this.toggleSkill(l.NONE),this.showPlaceHolder(a.NONE),h.emit(u.UPDATE_BOMB_SHOW)):h.emit(u.SHOW_TOAST,"Invalid bomb pos");break;case l.RAIN:h.emit(u.CLEAR_PLACEHOLDER,this.curPlaceholder),this.curPlaceholder=this.getPlaceholder(a.SIZE_FIVE,t),h.emit(u.UPDATE_PLACEHODLER,this.curPlaceholder);break;default:this.addStone(t.x,t.y,this.turn%2==1)&&(this.checkWin(t,this.chessboard)?h.emit(u.END_GAME,this.turn):(this.nextTurn(),h.emit(u.UPDATE_BOARD)))}},o.selectedCellChange=function(t){this.curUsingSkill==l.RAIN&&(h.emit(u.CLEAR_PLACEHOLDER,this.curPlaceholder),this.curPlaceholder=this.getPlaceholder(a.SIZE_FIVE,t),h.emit(u.UPDATE_PLACEHODLER,this.curPlaceholder))},o.selectedCellConfirm=function(t){if(this.curUsingSkill==l.RAIN){this.toggleSkill(l.NONE),console.log("CONFIRM CHANGE: ",t);var e=this.curPlaceholder;this.rainInRegion(e),h.emit(u.UPDATE_SEED_SHOW),h.emit(u.UPDATE_BOMB_SHOW),h.emit(u.UPDATE_BOARD),h.emit(u.CLEAR_PLACEHOLDER,this.curPlaceholder),this.curPlaceholder=[]}},o.addStone=function(t,e,i){var s=!1,n=i?"X":"O";if(""==this.chessboard[t][e]&&(this.chessboard[t][e]=n,s=!0),"SEED"==this.chessboard[t][e]){var o=this.findSeedAt(new r(t,e));o&&o.owner!=n&&(this.removeSeedAt(new r(t,e)),this.chessboard[t][e]=n,s=!0)}return s},o.resetBoad=function(){for(var t=0;t<this.sizeChess;t++)for(var e=0;e<this.sizeChess;e++)this.chessboard[e][t]="";this.seedList=[],this.bombList=[],h.emit(u.UPDATE_TURN_TEXT,"O"),h.emit(u.RESET_BOARD),this.turn=0,this.endCountTime(),this.startCountTime(),this.oTurnReduceTime=0,this.xTurnReduceTime=0,this.unuseSkill()},o.getBoardAtPos=function(t,e,i){return t<0||t>=this.sizeChess||e<0||e>=this.sizeChess?null:i[t][e]},o.checkWin=function(t,e,i){for(var s=0,r=t.x,n=t.x,o=t.y,h=i||this.getBoardAtPos(n,o,e);this.getBoardAtPos(r,o,e)==h;)s++,r++;for(r=n-1;this.getBoardAtPos(r,o,e)==h;)s++,r--;if(5==s)return!0;s=0;for(var u=o;this.getBoardAtPos(n,u,e)==h;)s++,u++;for(u=o-1;this.getBoardAtPos(n,u,e)==h;)s++,u--;if(5==s)return!0;for(u=n,r=o,s=0;this.getBoardAtPos(u,r,e)==h;)s++,u++,r++;for(u=n-1,r=o-1;this.getBoardAtPos(u,r,e)==h;)s++,u--,r--;if(5==s)return!0;for(u=n,r=o,s=0;this.getBoardAtPos(u,r,e)==h;)s++,u++,r--;for(u=n-1,r=o+1;this.getBoardAtPos(u,r,e)==h;)s++,u--,r++;return 5==s},o.resetSeedList=function(){this.seedList=[]},o.updateSeedByTurn=function(){for(var t=0;t<this.seedList.length;t++){var e=this.seedList[t];this.turn%2==0&&"O"==e.owner&&(e.livedTurn+=1),this.turn%2==1&&"X"==e.owner&&(e.livedTurn+=1),e.livedTurn>=c.seedGrownTurn&&(this.chessboard[e.pos.x][e.pos.y]=e.owner,this.checkWin(e.pos,this.chessboard)&&h.emit(u.END_GAME,this.turn))}this.seedList=this.seedList.filter((function(t){return t.livedTurn<c.seedGrownTurn}))},o.addRemoveSkillPos=function(t,e){var i={cellNum:t,skillOrder:e};this.removeSkillList.push(i)},o.useSeed=function(){this.toggleSkill(l.SEED),this.showPlaceHolder(a.EMPTY_CELLS)},o.setSeedAt=function(t){if(""!=this.chessboard[t.x][t.y])return!1;this.chessboard[t.x][t.y]="SEED";var e={pos:t,owner:this.turn%2==0?"O":"X",livedTurn:1};return this.seedList.push(e),!0},o.removeSeedAt=function(t){this.seedList=this.seedList.filter((function(e){return e.pos.x!=t.x&&e.pos.y!=t.y}))},o.findSeedAt=function(t){return this.seedList.find((function(e){return e.pos.x==t.x&&e.pos.y==t.y}))},o.removeSeed=function(t){for(var e=0;e<t.length;e++)this.chessboard[t[e].pos.x][t[e].pos.y]=""},o.useBomb=function(){this.toggleSkill(l.BOMB),this.showPlaceHolder(this.turn%2==0?a.X_CELLS:a.O_CELLS)},o.setBombAt=function(t){if(this.chessboard[t.x][t.y]!=(this.turn%2==0?"X":"O"))return!1;var e={pos:t,owner:this.turn%2==0?"O":"X",existTurn:1};return this.bombList.push(e),!0},o.updateBombByTurn=function(){for(var t=0;t<this.bombList.length;t++)if(this.bombList[t].existTurn+=1,this.bombList[t].existTurn>=c.bombExplodeTurn){var e=this.bombList[t].pos;this.chessboard[e.x][e.y]=""}var i=this.bombList.filter((function(t){return t.existTurn>=c.bombExplodeTurn}));this.bombList=this.bombList.filter((function(t){return t.existTurn<c.bombExplodeTurn})),i.length>0&&h.emit(u.REMOVE_BOMB,i)},o.showPlaceHolder=function(t){h.emit(u.CLEAR_PLACEHOLDER,this.curPlaceholder),this.curPlaceholder=this.getPlaceholder(t),h.emit(u.UPDATE_PLACEHODLER,this.curPlaceholder)},o.getPlaceholder=function(t,e){var i=[];if(t==a.SIZE_FIVE)for(var s=e.y-2;s<=e.y+2;s++)for(var n=e.x-2;n<=e.x+2;n++)if(!(n<0||s<0||n>=this.sizeChess||s>=this.sizeChess)){var o=new r(n,s);i.push(o)}if(t==a.EMPTY_CELLS)for(var h=0;h<this.sizeChess;h++)for(var u=0;u<this.sizeChess;u++)if(""==this.chessboard[h][u]){var c=new r(h,u);i.push(c)}if(t==a.O_CELLS)for(var l=0;l<this.sizeChess;l++)for(var d=0;d<this.sizeChess;d++)if("O"==this.chessboard[l][d]){var f=new r(l,d);i.push(f)}if(t==a.X_CELLS)for(var m=0;m<this.sizeChess;m++)for(var E=0;E<this.sizeChess;E++)if("X"==this.chessboard[m][E]){var T=new r(m,E);i.push(T)}return i},o.useRain=function(){this.toggleSkill(l.RAIN)},o.rainInRegion=function(t){var e=this.getRect(t),i=this.turn%2==0?"O":"X",s=this.bombList.filter((function(t){return t.owner!=i&&e.contains(t.pos)}));s.length>0&&h.emit(u.REMOVE_BOMB,s);var r=this.seedList.filter((function(t){return t.owner!=i&&e.contains(t.pos)}));this.removeSeed(r),this.seedList=this.seedList.filter((function(t){return t.owner==i||!e.contains(t.pos)})),this.bombList=this.bombList.filter((function(t){return t.owner==i||!e.contains(t.pos)}))},o.getRect=function(t){for(var e=new r(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),i=new r(Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER),s=0;s<t.length;s++)t[s].x<e.x&&(e.x=t[s].x),t[s].y<e.y&&(e.y=t[s].y),t[s].x>i.x&&(i.x=t[s].x),t[s].y>i.y&&(i.y=t[s].y);return new n(e.x,e.y,Math.abs(i.x-e.x),Math.abs(i.y-e.y))},o.useQuake=function(){this.toggleSkill(l.QUAKE),this.destroyChessman()},o.destroyChessman=function(){for(var t=c.quakeNumEachSide,e=c.quakeNumEachSide,i=[],s=0;s<this.bombList.length;s++){var n=this.bombList[s];if("O"==n.owner&&t>0){var o=this.bombList[s].pos;this.chessboard[o.x][o.y]="",i.push(n),t-=1}if("X"==n.owner&&e>0){var l=this.bombList[s].pos;this.chessboard[l.x][l.y]="",i.push(n),e-=1}}if(h.emit(u.REMOVE_BOMB,i),this.bombList=this.bombList.filter((function(t){return-1==i.indexOf(t)})),t>0||e>0){for(var a=[],d=[],f=0;f<this.sizeChess;f++)for(var m=0;m<this.sizeChess;m++)"X"==this.chessboard[f][m]&&a.push(new r(f,m)),"O"==this.chessboard[f][m]&&d.push(new r(f,m));for(;t>0&&a.length>0;){var E=Math.floor(Math.random()*a.length);this.chessboard[a[E].x][a[E].y]="",a.splice(E,1),t-=1}for(;e>0&&d.length>0;){var T=Math.floor(Math.random()*d.length);this.chessboard[d[T].x][d[T].y]="",d.splice(T,1),e-=1}}h.emit(u.UPDATE_BOARD)},o.usingTimeReduce=function(){this.toggleSkill(l.TIME),this.turn%2!=0?this.oTurnReduceTime+=c.timeSkillTurnNum:this.xTurnReduceTime+=c.timeSkillTurnNum},o.startPlayWithBot=function(){this.isPlayWithBot=!0},o.onInBotTurn=function(){this.blockUserAction(),this.botUseSkill();var t=d._instance.calculateNextMove();this.selectedCellStart(t)},o.blockUserAction=function(){},o.botUseSkill=function(){},i(s,null,[{key:"_intance",get:function(){return s.instance||(s.instance=new s),s.instance}}]),s}(o)).instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/SpawnObject.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,c,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t._decorator,r=t.Component}],execute:function(){var o;n._RF.push({},"bafeec+/RNLSYqbhmP2HX2C","SpawnObject",void 0);var u=c.ccclass;c.property,t("SpawnObject",u("SpawnObject")(o=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var c=n.prototype;return c.start=function(){},c.update=function(t){},n}(r))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/Toast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts"],(function(t){var e,o,n,i,r,a,s,c,u,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,c=t.Label,u=t.Component},function(t){l=t.default,p=t.EventName}],execute:function(){var f,h,d,v,T,y,b;r._RF.push({},"37cddtsfLxDhp8YLDzDqfQw","Toast",void 0);var g=a.ccclass,w=a.property;t("Toast",(f=g("Toast"),h=w(s),d=w(c),f((y=e((T=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"toastNode",y,i(e)),n(e,"toastTxt",b,i(e)),e}o(e,t);var r=e.prototype;return r.start=function(){l.on(p.SHOW_TOAST,this.showToast,this)},r.update=function(t){},r.showToast=function(t){var e=this;this.toastTxt.string=t,this.toastNode.active=!0,this.scheduleOnce((function(){e.toastNode.active=!1}),2)},e}(u)).prototype,"toastNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(T.prototype,"toastTxt",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T))||v));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});