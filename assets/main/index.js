System.register("chunks:///_virtual/BundleScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelHandler.ts","./PackListItem.ts","./Screen.ts"],(function(e){"use strict";var t,n,i,r,l,o,u,a,c,s,f,p,d,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,u=e.Label,a=e.Node,c=e.Prefab,s=e.find,f=e.instantiate},function(e){p=e.LevelHandler},function(e){d=e.PackListItem},function(e){b=e.Screen}],execute:function(){var h,v,I,L,g,k,m,y,B,P,C,S,z,w,T;l._RF.push({},"7110aPgTOZGiZ3LEnNZ1yK0","BundleScreen",void 0);var x=o.ccclass,F=o.property;e("BundleScreen",(h=x("BundleScreen"),v=F(u),I=F(a),L=F(a),g=F(a),k=F(a),m=F(c),h((P=t((B=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"bundleText",P,r(t)),i(t,"leftBundleButton",C,r(t)),i(t,"rightBundleButton",S,r(t)),i(t,"packListContainer",z,r(t)),i(t,"packListContent",w,r(t)),i(t,"PackListItem",T,r(t)),t.levelInfo=void 0,t.bundleInfos=[],t}n(t,e);var l=t.prototype;return l.start=function(){this.levelInfo=s("LevelHandler").getComponent(p),this.bundleInfos=this.levelInfo.bundleInfos,this.setup()},l.update=function(e){},l.setup=function(){if(this.levelInfo){this.bundleInfos=this.levelInfo.bundleInfos;var e=this.bundleInfos[0];this.bundleText.string=e.bundleName;for(var t=0;t<e.packInfos.length;++t){var n=e.packInfos[t],i=this.getFreePackListItem();i.setSiblingIndex(t),i.getComponent(d).setup(n),i.active=!0}}else console.error("BundleScreen: LEVEL INFOS EMPTY")},l.getFreePackListItem=function(){for(var e=0;e<this.packListContent.children.length;e++){var t=this.packListContent.children[e];if(!t.active)return t}var n=f(this.PackListItem);return this.packListContent.addChild(n),n},t}(b)).prototype,"bundleText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(B.prototype,"leftBundleButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(B.prototype,"rightBundleButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(B.prototype,"packListContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(B.prototype,"packListContent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(B.prototype,"PackListItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=B))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/Button.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./Define.ts"],(function(t){"use strict";var n,o,e,u,i,c,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,u=t.NodeEventType,i=t.Component},function(t){c=t.default,r=t.EventName},function(t){s=t.SoundID}],execute:function(){var a;o._RF.push({},"57c57qykUhOUoGVkOqubPxP","Button",void 0);var p=e.ccclass;e.property,t("Button",p("Button")(a=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.start=function(){this.node.on(u.TOUCH_START,this.onClick,this)},e.update=function(t){},e.onClick=function(){c.instance.emit(r.PLAY_SOUND,s.BUTTON_CLICK)},o}(i))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/c98.public-api.ts",["cc","./SDKManager.ts","./EventManager.ts","./TextWrapper.ts","./NativeBridge.ts","./SDKEntry.ts","./Toast.ts","./LocalData.ts"],(function(t){"use strict";var a;return{setters:[function(t){a=t.cclegacy},function(a){t("SDKManager",a.SDKManager)},function(a){t("EventManager",a.EventManager)},function(a){t("TextWrapper",a.TextWrapper)},function(a){t("NativeBridge",a.NativeBridge)},null,function(a){t("Toast",a.Toast)},function(a){t("LocalData",a.LocalData)}],execute:function(){a._RF.push({},"f5976JJWhNG9qR5DPjHsPac","c98.public-api",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/Cell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelHandler.ts","./Define.ts"],(function(t){"use strict";var e,i,n,o,l,r,c,a,s,u,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,c=t.Node,a=t.Color,s=t.Sprite,u=t.Component},function(t){h=t.CellType},function(t){f=t.Define}],execute:function(){var p,C,b,v,d,y,m,g,w,P,k,z,B,L,H;l._RF.push({},"d089dM7UnZN84+v8rmqhBlf","Cell",void 0);var D=r.ccclass,M=r.property;t("Cell",(p=D("Cell"),C=M(c),b=M(c),v=M(c),d=M(c),y=M(c),m=M(c),p((P=e((w=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,n(e,"fill",P,o(e)),n(e,"hint",k,o(e)),n(e,"checkPoint",z,o(e)),n(e,"detail",B,o(e)),n(e,"bolts",L,o(e)),n(e,"corner",H,o(e)),e.cellMapPos=void 0,e.type=null,e}i(e,t);var l=e.prototype;return l.setCellType=function(t){switch(t){case h.Blank:this.fill.getComponent(s).color=a.BLACK,this.detail.active=!1,this.bolts.active=!1;break;case h.Normal:a.fromHEX(this.fill.getComponent(s).color,f.NORMAL_COLOR),this.detail.active=!1,this.bolts.active=!1;break;case h.Block:a.fromHEX(this.fill.getComponent(s).color,f.BLOCK_COLOR),this.detail.active=!0,this.bolts.active=!0}this.corner.active=t!=h.Blank,this.type=t},l.start=function(){},l.update=function(t){},l.setCellColorWithDetail=function(t){this.fill.getComponent(s).color=new a(t),this.detail.active=!0},l.setCellMapPos=function(t){this.cellMapPos=t.clone()},l.setHintColor=function(t){this.hint.getComponent(s).color=t},l.showHint=function(){this.hint.active=!0},l.hideHint=function(){this.hint.active=!1},l.setCheckPointPos=function(t){this.checkPoint.active=!0,this.checkPoint.setWorldPosition(t)},l.resetToBaseCell=function(){this.setCellType(this.type)},l.setCellColor=function(t){this.fill.getComponent(s).color=new a(t),this.detail.active=!1},l.setCornerShow=function(t){this.corner.active=t},e}(u)).prototype,"fill",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(w.prototype,"hint",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(w.prototype,"checkPoint",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(w.prototype,"detail",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(w.prototype,"bolts",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(w.prototype,"corner",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=w))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,n,s,l,r,a,g,h,c,p,C,d,m,u,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,c=t.instantiate,p=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,T=t.Component}],execute:function(){var L,f,M,b,v,x,E,S,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(L=A("internal.DebugViewRuntimeControl"),f=y(r),M=y(r),b=y(r),L((E=e((x=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",E,n(e)),i(e,"singleModeToggle",S,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct TRT","Env TRT","TRT All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","TRT","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=c(s);l.parent=this.node,l.name="Buttons";var r=c(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var T=c(this.EnableAllCompositeModeButton.getChildByName("Label"));T.setPosition(i+(u>0?450:150),n,0),T.setScale(.75,.75,.75),T.parent=r;var L=T.getComponent(p);L.string=u?"----------Composite Mode----------":"----------Single Mode----------",L.color=a.WHITE,L.overflow=0,this.labelComponentList[this.labelComponentList.length]=L}n-=20;for(var f=0,M=0;M<this.strSingle.length;M++,f++){M===this.strSingle.length>>1&&(i+=200,f=0);var b=M?c(this.singleModeToggle):this.singleModeToggle;b.setPosition(i,n-20*f,0),b.setScale(.5,.5,.5),b.parent=this.singleModeToggle.parent;var v=b.getComponentInChildren(C);v.string=this.strSingle[M],this.textComponentList[this.textComponentList.length]=v,this.textContentList[this.textContentList.length]=v.string,b.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[M]=b}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var x=this.EnableAllCompositeModeButton.getComponentInChildren(p);this.labelComponentList[this.labelComponentList.length]=x;var E=c(this.EnableAllCompositeModeButton);E.setPosition(i+90,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.changeTextColor,this),E.parent=l,(x=E.getComponentInChildren(p)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=x;var S=c(this.EnableAllCompositeModeButton);S.setPosition(i+200,n,0),S.setScale(.5,.5,.5),S.on(m.EventType.CLICK,this.hideUI,this),S.parent=this.node.parent,(x=S.getComponentInChildren(p)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=x,this.hideButtonLabel=x,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=c(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?c(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(T)).prototype,"compositeModeToggle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(x.prototype,"singleModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(x.prototype,"EnableAllCompositeModeButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=x))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var c,t,i,o,u,a,l;e({Define:void 0,LocalDataKey:void 0,PackID:void 0,PopupID:void 0,ScreenID:void 0,SoundID:void 0,ToggleID:void 0}),n._RF.push({},"e4605yJZetKSba4kyYtnicp","Define",void 0),function(e){e.NORMAL_COLOR="#113A69",e.BLOCK_COLOR="#5E5E5E",e[e.maxColumn=4]="maxColumn",e[e.cheatAll=1]="cheatAll"}(c||(c=e("Define",{}))),function(e){e.MAIN="main",e.BUNDLES="bundles",e.PACK_LEVELS="pack_levels",e.GAME_SCREEN="game",e.LOGIN="login"}(t||(t=e("ScreenID",{}))),function(e){e.LEVEL_COMPLETE="level_complete",e.SETTING="setting"}(i||(i=e("PopupID",{}))),function(e){e.BACKGROUND="bkg-music",e.BUTTON_CLICK="btn-click",e.SHAPE_SELECTED="shape-selected",e.SHAPE_PLACED="shape-placed",e.LEVEL_COMPLETE="level-completed"}(o||(o=e("SoundID",{}))),function(e){e.SOUND="sound",e.MUSIC="music"}(u||(u=e("ToggleID",{}))),function(e){e.START_PACK="square_beginner"}(a||(a=e("PackID",{}))),function(e){e.userData="c98-hexa-userData",e.userSetting="c98-hexa-userSetting"}(l||(l=e("LocalDataKey",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/Encryptor.ts",["cc","./crypto-ts.umd.mjs_cjs=&original=.js","./md5.mjs_cjs=&original=.js","./SDKManager.ts","./crypto-ts.umd.js","./md5.js"],(function(n){"use strict";var t,r,c,u;return{setters:[function(n){t=n.cclegacy},null,null,function(n){r=n.SDKManager},function(n){c=n.default},function(n){u=n.default}],execute:function(){t._RF.push({},"b46d9Xf3rVHkaZrTyC8xCCa","Encryptor",void 0);var i=n("Encryptor",function(){function n(){}return n.decrypt=function(t){return r.USE_C98_SDK?c.AES.decrypt(t,n.KEY).toString(c.enc.Utf8):t},n.encrypt=function(t){return r.USE_C98_SDK?c.AES.encrypt(t,n.KEY).toString():t},n.dynamicEncrypt=function(t){return c.AES.encrypt(t,n.DYNAMIC_KEY).toString()},n.dynamicDecrypt=function(t){return c.AES.decrypt(t,n.DYNAMIC_KEY).toString(c.enc.Utf8)},n.MD5=function(n){return u(n)},n.subBinary=function(n,t){return(BigInt(n)-BigInt(t)).toString(2)},n.addBinary=function(n,t){return(BigInt(n)+BigInt(t)).toString(2)},n.base64=function(n){return btoa(n)},n.setDynamicKey=function(t){return n.DYNAMIC_KEY=t+n.KEY},n}());i.KEY="O6q3A/70EyHCdguDk/L+6nIC7wIL5tpjvsut7RK",i.DYNAMIC_KEY="",t._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,i,r;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){i=n.cclegacy,r=n.EventTarget}],execute:function(){i._RF.push({},"8d0b3FCggZN5q1M3aDojsKc","EventManager",void 0),n("EventManager",function(n){function i(){var t;return(t=n.call(this)||this)._isInit=!1,t._isInit=!0,t}return t(i,n),i.prototype.isReady=function(){return!0},e(i,null,[{key:"instance",get:function(){return i._instance||(i._instance=new i),i._instance}}]),i}(r))._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["cc"],(function(E){"use strict";var _,t;return{setters:[function(E){_=E.cclegacy,t=E.EventTarget}],execute:function(){var A;E("EventName",void 0),_._RF.push({},"921c4UH+v5AT5BCJ1uMgYpb","EventMgr",void 0),function(E){E.PLAY_GAME="PLAY_GAME",E.RESET_GAME="RESET_GAME",E.NEXT_LEVEL="NEXT_LEVEL",E.SCALE_UP="SCALE_UP",E.LEVEL_COMPLETE="LEVEL_COMPLETE",E.SHOW_SCREEN="SHOW_SCREEN",E.BACK_SCREEN="BACK_SCREEN",E.UPDATE_PACK_INFO="UPDATE_PACK_INFO",E.UPDATE_SELECT_LEVEL="UPDATE_SELECT_LEVEL",E.UPDATE_CUR_LEVEL_POS="UPDATE_CUR_LEVEL_POS",E.UPDATE_CURRENT_PACK="UPDATE_CURRENT_PACK",E.SHOW_POPUP="SHOW_POPUP",E.PLAY_SOUND="PLAY_SOUND",E.CHANGE_SETTING="CHANGE_SETTING",E.UPDATE_HEADER_TEXT="UPDATE_HEADER_TEXT",E.LOGIN_FAIL="LOGIN_FAIL"}(A||(A=E("EventName",{})));var n=E("EventMgr",function(){function E(){this.instance=void 0,this.instance=new t}var _=E.prototype;return _.start=function(){},_.update=function(E){},E}());E("default",new n);_._RF.pop()}}}));

System.register("chunks:///_virtual/Events.ts",["cc"],(function(_){"use strict";var t;return{setters:[function(_){t=_.cclegacy}],execute:function(){t._RF.push({},"ae37fpWtpdNXrc9vjJY0MBF","Events",void 0);var e=_("Events",(function(){}));e.C98_ON_GAME_DATA_FROM_NATIVE="C98_ON_GAME_DATA_FROM_NATIVE",e.C98_ON_LOGIN_RESPONSE="C98_ON_LOGIN_REPONSE",t._RF.pop()}}}));

System.register("chunks:///_virtual/GameArea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelHandler.ts","./Cell.ts","./EventMgr.ts","./ShapeHolder.ts","./ShapeCover.ts","./Utilities.ts","./Define.ts","./SDKManager.ts"],(function(e){"use strict";var t,i,n,a,r,o,h,s,l,d,g,p,c,C,u,S,f,m,v,y,G,w,x,M,P,T,D,A,E,L,H,b,N,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,h=e.Node,s=e.Prefab,l=e.Color,d=e.SpriteFrame,g=e.Sprite,p=e.NodeEventType,c=e.find,C=e.Vec2,u=e.instantiate,S=e.view,f=e.sys,m=e.Widget,v=e.UITransform,y=e.Layout,G=e.Vec3,w=e.Component},function(e){x=e.LevelHandler,M=e.LevelType,P=e.CellType},function(e){T=e.Cell},function(e){D=e.default,A=e.EventName},function(e){E=e.ShapeHolder},function(e){L=e.ShapeCover},function(e){H=e.default},function(e){b=e.Define,N=e.SoundID},function(e){O=e.SDKManager}],execute:function(){var _,R,I,z,F,B,U,k,V,W,Y,X,q,K,j;r._RF.push({},"a92dclfHotKf6eSBSrB/WYC","GameArea",void 0);var J=o.ccclass,Q=o.property;e("GameArea",(_=J("GameArea"),R=Q(h),I=Q(h),z=Q(s),F=Q(l),B=Q(d),U=Q(g),_((W=t((V=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"gridContainer",W,a(t)),n(t,"shapeContainer",Y,a(t)),n(t,"gridCell",X,a(t)),n(t,"shapeColor",q,a(t)),n(t,"whiteSpriteFrame",K,a(t)),n(t,"testSprite",j,a(t)),t.maxCellSize=150,t.maxGridSize=800,t.gridScale=0,t.holdingShape=null,t.holdingShapeData=null,t.levelData=null,t.selectingShapeNum=-1,t.gridStatusMap=[],t.oldCheckPos=-1,t.gridLeftBottom=void 0,t.gridRightTop=void 0,t.retriggCreateShape=!1,t}i(t,e);var r=t.prototype;return r.onLoad=function(){D.instance.on(A.PLAY_GAME,this.onStartGame,this),this.node.on(p.TOUCH_START,this.onGameAreaTouch,this),this.node.on(p.TOUCH_MOVE,this.onGameAreaTouchMove,this),this.node.on(p.TOUCH_END,this.onGameAreaTouchEnd,this),this.node.on(p.TOUCH_CANCEL,this.onGameAreaTouchEnd,this)},r.onEnable=function(){this.retriggCreateShape&&(this.createShape(),this.retriggCreateShape=!1)},r.start=function(){D.instance.on(A.RESET_GAME,this.onResetGame,this)},r.update=function(e){},r.onStartGame=function(){this.clearGameArea(),this.createGrid(),this.calculateGridRegion(),this.createShape(),this.createGridStatusMap()},r.clearGameArea=function(){this.gridContainer.destroyAllChildren(),this.gridContainer.removeAllChildren(),this.gridContainer.children.length=0,this.shapeContainer.destroyAllChildren(),this.shapeContainer.removeAllChildren(),this.shapeContainer.children.length=0},r.createGrid=function(){var e=c("LevelHandler").getComponent(x);this.levelData=e;var t=this.GetTileSize(e).x/100;this.gridScale=t;for(var i=0;i<e.yCells;i++)for(var n=0;n<e.xCells;n++){var a=this.setNewCell(e.gridCellType[i][n]);a.setScale(t,t),this.gridContainer.addChild(a),a.setPosition(100*n*t,100*-i*t),a.active=!0}this.alignGrid()},r.calculateGridRegion=function(){this.gridLeftBottom=new C(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.gridRightTop=new C(Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(var e=0;e<this.gridContainer.children.length;++e){var t=this.gridContainer.children[e].worldPosition;this.gridLeftBottom.x=Math.min(this.gridLeftBottom.x,t.x),this.gridLeftBottom.y=Math.min(this.gridLeftBottom.y,t.y),this.gridRightTop.x=Math.max(this.gridRightTop.x,t.x),this.gridRightTop.y=Math.max(this.gridRightTop.y,t.y)}this.gridLeftBottom.y-=100*this.gridScale,this.gridRightTop.x+=100*this.gridScale},r.GetTileSize=function(e){switch(e.levelType){case M.Square:return this.GetSquareTileSize(e)}},r.GetSquareTileSize=function(e){var t=this.maxGridSize/e.xCells,i=this.maxGridSize/e.yCells,n=Math.min(this.maxCellSize,t,i);return new C(n,n)},r.setNewCell=function(e){for(var t=0;t<this.gridContainer.children.length;t++)if(0==this.gridContainer.children[t].active){var i=this.gridContainer.children[t];return i.getComponent(T).setCellType(e),i.getComponent(T).hideHint(),i}var n=u(this.gridCell);return n.getComponent(T).setCellType(e),n},r.alignGrid=function(){var e=-this.levelData.xCells*this.gridScale*100/2,t=this.isSafeAreaActive()?650:750-(this.maxGridSize-this.levelData.yCells*this.gridScale*100)/2;this.gridContainer.setPosition(e,t)},r.isSafeAreaActive=function(){return S.getVisibleSize().height!=f.getSafeAreaRect().height},r.createShape=function(){if(this.node.activeInHierarchy){this.shapeContainer.getComponent(m).updateAlignment(),this.isSafeAreaActive()&&(this.shapeContainer.getComponent(m).top=1e3);var e=c("LevelHandler").getComponent(x),t=Math.min(b.maxColumn,e.shapes.length),i=(this.shapeContainer.getComponent(v).width-40-20*(t-1))/(t*e.xCells*100);this.shapeContainer.getComponent(y).constraint=2,this.shapeContainer.getComponent(y).constraintNum=t;for(var n=this.getCenterShape(),a=this.getTopShape(),r=0;r<e.shapes.length;r++){for(var o=new h,s=new h,l=0;l<e.shapes[r].cellPositions.length;l++){var d=e.shapes[r].cellPositions[l],g=u(this.gridCell);g.getComponent(T).setCellColorWithDetail(this.shapeColor[r]),s.addChild(g),g.setScale(this.gridScale,this.gridScale),g.setPosition(d.x*this.gridScale*100,-d.y*this.gridScale*100),s.name="ShapeHolder"}s.setScale(i/this.gridScale,i/this.gridScale);var p=o.addComponent(v);p.width=i*e.xCells*100,p.height=i*e.yCells*100,p.setAnchorPoint(0,1),o.addChild(s),o.name="ShapeCover";var S=s.addComponent(v);S.width=p.width,S.height=p.height,s.addComponent(E),o.addComponent(L),s.setPosition(100*((e.xCells-1)/2-n[r].x)*i,100*-((e.yCells-1)/2-n[r].y)*i),s.getComponent(E).setCenterShape(new C(n[r].x,n[r].y)),s.getComponent(E).setTopShape(a[r]),s.getComponent(v).setAnchorPoint(0,1),s.getComponent(E).setShapeOrder(r),this.shapeContainer.addChild(o)}}else this.retriggCreateShape=!0},r.getCenterShape=function(){for(var e=this.levelData,t=[],i=0;i<e.shapes.length;i++){for(var n=new C(e.xCells,e.yCells),a=new C,r=0;r<e.shapes[i].cellPositions.length;r++){var o=e.shapes[i].cellPositions[r];n.x=Math.min(n.x,o.x),n.y=Math.min(n.y,o.y),a.x=Math.max(a.x,o.x),a.y=Math.max(a.y,o.y)}var h=(n.x+a.x)/2,s=(n.y+a.y)/2;t.push(new C(h,s))}return t},r.getTopShape=function(){for(var e=this.levelData,t=[],i=0;i<e.shapes.length;i++){for(var n=0,a=0;a<e.shapes[i].cellPositions.length;a++){var r=e.shapes[i].cellPositions[a];n=Math.max(n,r.y)}t.push(n)}return t},r.onGameAreaTouch=function(e){var t=this.getNearestShape(e);if(t&&(D.instance.emit(A.PLAY_SOUND,N.SHAPE_SELECTED),this.removeHoldingShapeFromGrid(t),t.getComponent(E).scaleChild(),this.holdingShape!=t)){this.holdingShape=t,this.holdingShape.setParent(this.node),this.holdingShapeData=this.levelData.shapes[t.getComponent(E).shapeOrder],this.oldCheckPos=-1;var i=e.getUILocation(),n=this.getCenterShapeInHolder(this.holdingShape);this.holdingShape.setWorldPosition(new G(i.x+n.x,i.y+n.y))}},r.getNearestShape=function(e){for(var t=e.getUILocation(),i=0;i<this.shapeContainer.children.length;i++){var n=this.shapeContainer.children[i];if(n.children[0].active){var a=n.getComponent(v).width,r=new C(this.shapeContainer.children[i].worldPosition.x+a/2,this.shapeContainer.children[i].worldPosition.y-a/2);if(C.distance(t,r)<a/2)return this.selectingShapeNum=i,n.children[0]}}for(var o=this.gridContainer.children[0].getComponent(v).width,h=this.gridContainer.children[0].getComponent(v).height,s=0;s<this.gridContainer.children.length;++s){var l=this.gridContainer.children[s];if(this.gridStatusMap[s]>=2&&H.rectContains(new C(l.worldPosition.x,l.worldPosition.y-this.gridScale*h),new C(l.worldPosition.x+this.gridScale*o,l.worldPosition.y),t)){var d=this.shapeContainer.children[this.gridStatusMap[s]-2].children[0];return d.active=!0,d}}return null},r.removeHoldingShapeFromGrid=function(e){if(e)for(var t=e.getComponent(E).shapeOrder+2,i=0;i<this.gridStatusMap.length;++i){if(this.gridStatusMap[i]==t){var n=new l;l.fromHEX(n,b.NORMAL_COLOR),this.gridContainer.children[i].getComponent(T).setCellColor(n)}}},r.onGameAreaTouchMove=function(e){if(this.holdingShape){var t=e.getUILocation(),i=this.getCenterShapeInHolder(this.holdingShape);this.holdingShape.setWorldPosition(new G(t.x+i.x,t.y+i.y)),this.getHintPos()}},r.getCenterShapeInHolder=function(e){if(e){var t=e.getComponent(E).getCenterShape(),i=e.getComponent(E).getTopShape();return new C(100*-(t.x+.5)*this.gridScale,100*(i+1)*this.gridScale)}},r.getHintPos=function(){if(this.isInGrid())return this.tryFitShapeInGrid(),[];this.removeHintFromGrid()},r.isInGrid=function(){var e=this.holdingShape,t=this.gridContainer.children[0].getComponent(v).width*this.gridScale,i=new C(e.children[1].worldPosition.x+t/2,e.children[1].worldPosition.y-t/2);return!!H.rectContains(this.gridLeftBottom,this.gridRightTop,i)},r.tryFitShapeInGrid=function(){this.holdingShape&&this.matchFirstCellToGrid()},r.matchFirstCellToGrid=function(){if(0!=this.gridStatusMap.length){var e=this.holdingShape.children[0].worldPosition,t=this.getNearestCellInGrid(e);t!=this.oldCheckPos&&(this.removeHintFromGrid(),this.oldCheckPos=t,0==this.gridStatusMap[t]&&this.trySetShapeInGrid(t))}else console.log("GRID STATUS MAP EMPTY")},r.getNearestCellInGrid=function(e){for(var t=this.gridContainer.children,i=t[0].getComponent(v).width*this.gridScale,n=new G(e.x+i/2,e.y-i/2,e.z),a=0;a<t.length;++a){var r=t[a].worldPosition,o=new G(r.x+i/2,r.y-i/2,r.z);if(G.distance(n,o)<=i/2)return a}return-1},r.removeHintFromGrid=function(){if(this.holdingShape)for(var e=this.holdingShape.getComponent(E).shapeOrder+2,t=0;t<this.gridStatusMap.length;++t){this.gridStatusMap[t]==e&&(this.gridStatusMap[t]=0,this.gridContainer.children[t].getComponent(T).hideHint())}},r.createGridStatusMap=function(){this.gridStatusMap=[];for(var e=0;e<this.levelData.yCells;e++)for(var t=0;t<this.levelData.xCells;t++){switch(this.levelData.gridCellType[e][t]){case P.Blank:case P.Block:this.gridStatusMap.push(-1);break;case P.Normal:this.gridStatusMap.push(0)}}},r.trySetShapeInGrid=function(e){this.gridStatusMap,this.holdingShapeData;for(var t=e%this.levelData.xCells,i=Math.floor(e/this.levelData.yCells),n=new C(this.holdingShapeData.cellPositions[0].x-t,this.holdingShapeData.cellPositions[0].y-i),a=!0,r=0;r<this.holdingShapeData.cellPositions.length;++r){var o=new C,h=this.holdingShapeData.cellPositions[r];if(C.subtract(o,new C(h.x,h.y),n),o.x>this.levelData.xCells-1||o.y>this.levelData.yCells-1||o.x<0||o.y<0){a=!1;break}var s=o.y*this.levelData.yCells+o.x;if(0!=this.gridStatusMap[s]){a=!1;break}}a&&this.FillShapeToStatusGrid(e)},r.FillShapeToStatusGrid=function(e){for(var t=e%this.levelData.xCells,i=Math.floor(e/this.levelData.yCells),n=new C(this.holdingShapeData.cellPositions[0].x-t,this.holdingShapeData.cellPositions[0].y-i),a=0;a<this.holdingShapeData.cellPositions.length;++a){var r=new C,o=this.holdingShapeData.cellPositions[a];C.subtract(r,new C(o.x,o.y),n);var h=r.y*this.levelData.yCells+r.x;this.gridStatusMap[h]=this.holdingShape.getComponent(E).shapeOrder+2}this.showHint()},r.showHint=function(){for(var e=this.holdingShape.getComponent(E).shapeOrder+2,t=0;t<this.gridStatusMap.length;++t){var i=this.gridStatusMap[t];if(i==e){var n=this.gridContainer.children[t].getComponent(T);n.setHintColor(this.shapeColor[i-2]),n.showHint()}}},r.onGameAreaTouchEnd=function(){this.holdingShape&&(this.holdingShape.setParent(this.shapeContainer.children[this.holdingShape.getComponent(E).shapeOrder]),D.instance.emit(A.PLAY_SOUND,N.SHAPE_PLACED),this.MapGridStatusToGrid(),this.holdingShape=null)},r.MapGridStatusToGrid=function(){for(var e=this.holdingShape.getComponent(E).shapeOrder,t=!1,i=0;i<this.gridStatusMap.length;i++){var n=this.gridStatusMap[i];if(n>=2){var a=this.gridContainer.children[i];a.getComponent(T).setCellColorWithDetail(new l(this.shapeColor[n-2])),a.getComponent(T).hideHint(),n==e+2&&(t=!0)}else this.gridContainer.children[i].getComponent(T).resetToBaseCell()}if(t)this.holdingShape.active=!1,this.checkCompleteGame()&&(console.log("LEVEL COMPLETED"),D.instance.emit(A.PLAY_SOUND,N.LEVEL_COMPLETE),D.instance.emit(A.LEVEL_COMPLETE));else{var r=this.holdingShape.getComponent(E);r.removeScaleChild(),r.setToOriginPos()}},r.checkCompleteGame=function(){for(var e=!0,t=0;t<this.shapeContainer.children.length;t++){this.shapeContainer.children[t].children[0].active&&(e=!1)}return e},r.updateShapeScale=function(){},r.onResetGame=function(){if(this.isPlayed()){for(var e=0;e<this.shapeContainer.children.length;e++){var t=this.shapeContainer.children[e].children[0];t.active=!0;var i=t.getComponent(E);i.removeScaleChild(),i.setToOriginPos()}this.createGridStatusMap();for(var n=0;n<this.gridStatusMap.length;n++){if(0==this.gridStatusMap[n]){var a=new l;l.fromHEX(a,b.NORMAL_COLOR),this.gridContainer.children[n].getComponent(T).setCellColor(a)}}}},r.isPlayed=function(){for(var e=0;e<this.shapeContainer.children.length;e++){if(!this.shapeContainer.children[e].children[0].active)return!0}return!1},r.onDisable=function(){if(!O.instance.isOfflineMode()){var e=this.levelData.getUserData();O.instance.endSession(e)}},t}(w)).prototype,"gridContainer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(V.prototype,"shapeContainer",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(V.prototype,"gridCell",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(V.prototype,"shapeColor",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(V.prototype,"whiteSpriteFrame",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(V.prototype,"testSprite",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=V))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./Screen.ts","./Define.ts"],(function(e){"use strict";var t,n,i,o,r,c,a,s,u,l,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.Node,s=e.NodeEventType},function(e){u=e.default,l=e.EventName},function(e){p=e.Screen},function(e){f=e.PopupID}],execute:function(){var m,E,h,v,S;r._RF.push({},"4a6f5Nxgh9Cv7m0BFyqv4JI","GameScreen",void 0);var y=c.ccclass,G=c.property;e("GameScreen",(m=y("GameScreen"),E=G(a),m((S=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"resetBtn",S,o(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.onStartGame()},r.start=function(){u.instance.on(l.LEVEL_COMPLETE,this.onLevelComplete,this),this.resetBtn.on(s.TOUCH_START,this.onResetGame,this)},r.update=function(e){},r.onStartGame=function(){console.log("on START GAME"),u.instance.emit(l.PLAY_GAME)},r.onLevelComplete=function(){u.instance.emit(l.SHOW_POPUP,f.LEVEL_COMPLETE)},r.onResetGame=function(){u.instance.emit(l.RESET_GAME)},t}(p)).prototype,"resetBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=v))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameService.ts",["cc","./Route.ts","./NetworkRequest.ts","./Encryptor.ts","./Logger.ts"],(function(e){"use strict";var t,s,i,o,n;return{setters:[function(e){t=e.cclegacy},function(e){s=e.Route},function(e){i=e.NetworkRequest},function(e){o=e.Encryptor},function(e){n=e.Logger}],execute:function(){t._RF.push({},"d9087H9zuRDwrxjzq1R29GC","GameService",void 0),e("GameService",function(){function e(){this._walletId="",this._signature="",this._loginToken="",this._authorizationHeader={},this._sessionId="",this._startAtLong=0,this._gameId="",this._profile={},this._gameConfig={},this._host="http://35.238.218.10:3001",this._loginCallback=void 0,this._getProfileCallback=void 0,this._getGameConfigCallback=void 0,this._startSessionCallback=void 0,this._endSessionCallback=void 0,this._postScoreCallback=void 0}var t=e.prototype;return t.setGameId=function(e){this._gameId=e},t.setWalletId=function(e){this._walletId=e},t.setSignature=function(e){this._signature=e},t.setHost=function(e){e&&(this._host=e)},t.hasUserProfile=function(){return Object.keys(this._profile).length>0},t.hasGameConfig=function(){return Object.keys(this._gameConfig).length>0},t.isLoggedIn=function(){return!!this._loginToken},t.canStartSession=function(){return this.isLoggedIn()&&this.hasGameConfig()&&this.hasUserProfile()},t.inSession=function(){return!!this._sessionId},t.getProfileWalletId=function(){if(!this._profile)return"";var e=this._profile.wallet;return e&&e.id||""},t.getProjectId=function(){return this._gameConfig&&this._gameConfig.id||""},t.getUserId=function(){return this._profile?this._profile.id||this.getProfileWalletId():""},t.getGameId=function(){return this._gameId},t.getUserName=function(){return this._profile&&this._profile.username||""},t.decryptResponse=function(e){if(!e)return{};var t=e.data||"",s=o.decrypt(t),i=s.indexOf("{"),n=i>-1?s.slice(i):"{}";return JSON.parse(n)},t.encryptRequestBody=function(e){if(!e)return{data:""};var t=this.getProfileWalletId();return{data:o.encrypt(t+JSON.stringify(e))}},t.encryptRequestBody2=function(e){return{data:o.dynamicEncrypt(e)}},t.login=function(e){n.log("[GameService] - <login> isLogged: "+this.isLoggedIn()),this._loginCallback=e,this.isLoggedIn()?e&&e(!0):i.post(this._host+s.LOGIN).setBody(this.getLoginBody()).onResponse(this.onLoginResponse.bind(this)).onError(this.onLoginError.bind(this)).onTimeout(this.onLoginTimeout.bind(this)).send()},t.getLoginBody=function(){var e={walletId:this._walletId,signature:this._signature};n.log("[GameService] - <login> body: "+JSON.stringify(e));var t={data:o.encrypt(JSON.stringify(e))};return n.log("[GameService] - <login> encryptedBody: "+JSON.stringify(t)),t},t.onLoginResponse=function(e){var t=this.decryptResponse(e);this._loginToken=t.access_token||"",n.log("[GameService] - <onLoginResponse> "+JSON.stringify(t)),this._authorizationHeader={Authorization:"Bearer "+this._loginToken},this._loginCallback&&this._loginCallback(!0)},t.onLoginError=function(t){n.error("["+e.LOGTAG+"] <login> ERROR: "+t.message),this._loginCallback&&this._loginCallback(!1)},t.onLoginTimeout=function(){n.error("["+e.LOGTAG+"] <login> TIMEOUT!!!"),this._loginCallback&&this._loginCallback(!1)},t.logout=function(){this._loginToken="",this._profile={},this._gameConfig={}},t.onGetUserProfileResponse=function(e){this._profile=this.decryptResponse(e),n.log("[GameService] - <onGetUserProfileResponse> "+JSON.stringify(this._profile)),this._getProfileCallback&&this._getProfileCallback(!0)},t.onGetUserProfileError=function(t){n.error("["+e.LOGTAG+"] <onGetUserProfileError> ERROR: "+t.message),this._getProfileCallback&&this._getProfileCallback(!1)},t.onGetUserProfileTimeout=function(){n.error("["+e.LOGTAG+"] <onGetUserProfileTimeout>"),this._getProfileCallback&&this._getProfileCallback(!1)},t.requestUserProfile=function(e){n.log("[GameService] - <requestUserProfile>"),this._getProfileCallback=e,i.get(this._host+s.GET_PROFILE).setHeaders(this._authorizationHeader).onResponse(this.onGetUserProfileResponse.bind(this)).onError(this.onGetUserProfileError.bind(this)).onTimeout(this.onGetUserProfileTimeout.bind(this)).send()},t.onGetGameConfigResponse=function(e){n.log("[GameService] - <onGetGameConfigResponse> "+JSON.stringify(e)),this._gameConfig=e,this._getGameConfigCallback&&this._getGameConfigCallback(!0)},t.onGetGameConfigError=function(t){n.error("["+e.LOGTAG+"] <onGetGameConfigError> ERROR: "+t.message),this._getGameConfigCallback&&this._getGameConfigCallback(!1)},t.onGetGameConfigTimeout=function(){n.error("["+e.LOGTAG+"] <onGetGameConfigTimeout>"),this._getGameConfigCallback&&this._getGameConfigCallback(!1)},t.requestGameConfig=function(e){n.log("[GameService] - <requestGameConfig>"),this._getGameConfigCallback=e;var t=this._host+s.GET_CONFIG.replace("{gameId}",this._gameId);i.get(t).setHeaders(this._authorizationHeader).onResponse(this.onGetGameConfigResponse.bind(this)).onError(this.onGetGameConfigError.bind(this)).onTimeout(this.onGetGameConfigTimeout.bind(this)).send()},t.startSesssion=function(e){if(n.log("[GameService] - <startSesssion> canStart: "+this.canStartSession()),this.canStartSession()){this._startSessionCallback=e;var t=this._host+s.START_SESSION;n.log("[GameService] - <startSesssion> canStart: "+t);var o=this.encryptRequestBody({walletId:this.getProfileWalletId(),projectId:this.getProjectId()});i.post(t).setBody(o).setHeaders(this._authorizationHeader).onResponse(this.onStartSessionResponse.bind(this)).onError(this.onStartSessionError.bind(this)).onTimeout(this.onStartSessionTimeout.bind(this)).send()}else e&&e(!1)},t.onStartSessionResponse=function(e){var t=this.decryptResponse(e);n.log("[GameService] - <onStartSessionResponse> "+JSON.stringify(t)),this._sessionId=t.id||"",this._startAtLong=new Date(t.startAt).getTime(),o.setDynamicKey(o.MD5(this._sessionId+this._startAtLong)),this._startSessionCallback&&this._startSessionCallback(!0)},t.onStartSessionError=function(e){n.error("[GameService] <onStartSessionError> "+e.message),this._startSessionCallback&&this._startSessionCallback(!1)},t.onStartSessionTimeout=function(){n.error("["+e.LOGTAG+"] <onStartSessionTimeout>"),this._startSessionCallback&&this._startSessionCallback(!1)},t.endSesssion=function(e,t){if(n.log("[GameService] - <endSesssion> "+e),this.inSession()){var r=this._host+s.END_SESSION.replace("{sessionId}",this._sessionId),a=this.encryptRequestBody2(this._sessionId+o.base64(o.addBinary(this._startAtLong,0))+JSON.stringify({score:0,detail:e}));i.put(r).setBody(a).setHeaders(this._authorizationHeader).onResponse(this.onEndSessionResponse.bind(this)).onError(this.onEndSessionError.bind(this)).onTimeout(this.onEndSessionTimeout.bind(this)).send()}else t&&t(!1)},t.onEndSessionResponse=function(e){var t=this.decryptResponse(e);n.log("[GameService] - <endSesssion> "+JSON.stringify(t)),this._sessionId="",this._endSessionCallback&&this._endSessionCallback(!0)},t.onEndSessionError=function(t){n.error("["+e.LOGTAG+"] <onEndSessionError> "+t.message),this._endSessionCallback&&this._endSessionCallback(!1)},t.onEndSessionTimeout=function(){n.error("["+e.LOGTAG+"] <onEndSessionTimeout>"),this._endSessionCallback&&this._endSessionCallback(!1)},t.postScore=function(e,t){if(n.log("[GameService] - <postScore> "+e),this.inSession()){var r=this._host+s.POST_SCORE.replace("{sessionId}",this._sessionId),a=this.encryptRequestBody2(this._sessionId+o.base64(o.addBinary(this._startAtLong,0))+JSON.stringify({score:0,detail:e}));i.put(r).setBody(a).setHeaders(this._authorizationHeader).onResponse(this.onPostScoreResponse.bind(this)).onError(this.onPostScoreError.bind(this)).onTimeout(this.onPostScoreTimeout.bind(this)).send()}else t&&t(!1)},t.onPostScoreResponse=function(e){n.log("[GameService] - <onPostScoreResponse>"),this._postScoreCallback&&this._postScoreCallback(!0)},t.onPostScoreError=function(t){n.error("["+e.LOGTAG+"] <onPostScoreError> "+t.message),this._postScoreCallback&&this._postScoreCallback(!1)},t.onPostScoreTimeout=function(){n.error("["+e.LOGTAG+"] <onPostScoreTimeout>"),this._postScoreCallback&&this._postScoreCallback(!1)},e}()).LOGTAG="GameService",t._RF.pop()}}}));

System.register("chunks:///_virtual/IManager.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1047eJ/lDpPR4dd+iVg8x2P","IManager",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/LevelCompletePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./Popup.ts"],(function(e){"use strict";var t,n,o,i,r,l,c,u,p,a,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,c=e.Node,u=e.NodeEventType},function(e){p=e.default,a=e.EventName},function(e){s=e.Popup}],execute:function(){var f,v,h,L,T,d,y;r._RF.push({},"55b4dPofNdNMIbSMLxgMePP","LevelCompletePopup",void 0);var b=l.ccclass,B=l.property;e("LevelCompletePopup",(f=b("LevelCompletePopup"),v=B(c),h=B(c),f((d=t((T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"nextLevelBtn",d,i(t)),o(t,"backToMenuBtn",y,i(t)),t}n(t,e);var r=t.prototype;return r.start=function(){this.nextLevelBtn.on(u.TOUCH_START,this.onNextLevelBtnClick,this),this.backToMenuBtn.on(u.TOUCH_START,this.onBackToMenuClick,this)},r.update=function(e){},r.onNextLevelBtnClick=function(){p.instance.emit(a.NEXT_LEVEL),e.prototype.hide.call(this)},r.onBackToMenuClick=function(){p.instance.emit(a.BACK_SCREEN),e.prototype.hide.call(this)},t}(s)).prototype,"nextLevelBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(T.prototype,"backToMenuBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=T))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./Define.ts","./SDKManager.ts"],(function(e){"use strict";var t,i,n,r,s,a,l,o,u,c,h,p,f,v,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.inheritsLoose,r=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,l=e.Enum,o=e.TextAsset,u=e.Rect,c=e.Component},function(e){h=e.default,p=e.EventName},function(e){f=e.LocalDataKey,v=e.ScreenID},function(e){d=e.SDKManager}],execute:function(){var P,g,L,k,y,b,m,E,N,I,S,C,D,T,_,A,x,M,w,F,R,z,B,U,H,O,G,J,q;e({CellType:void 0,LevelType:void 0,PackUnlockType:void 0}),s._RF.push({},"657e9NvfalJq4NWSmx6Qgyz","LevelHandler",void 0);var K,V=a.ccclass,X=a.property,W=a.executeInEditMode;!function(e){e[e.None=1]="None",e[e.Coins=2]="Coins",e[e.IAP=3]="IAP"}(K||(K=e("PackUnlockType",{}))),l(K);var j,Q,Y=e("PackInfo",(P=V("PackInfo"),g=X(String),L=X(String),k=X(String),y=X({type:K}),b=X(Number),m=X(String),E=X(o),P(N=W((S=t((I=function(){i(this,"packId",S,this),i(this,"packName",C,this),i(this,"packDescription",D,this),i(this,"unlockType",T,this),i(this,"unlockCoinsAmount",_,this),i(this,"unlockIAPProductId",A,this),i(this,"levelFiles",x,this)}).prototype,"packId",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=t(I.prototype,"packName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=t(I.prototype,"packDescription",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=t(I.prototype,"unlockType",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.None}}),_=t(I.prototype,"unlockCoinsAmount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=t(I.prototype,"unlockIAPProductId",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=t(I.prototype,"levelFiles",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=I))||N)||N)),Z=e("BundleInfo",(M=V("BundleInfo"),w=X(String),F=X(Y),M((B=t((z=function(){i(this,"bundleName",B,this),i(this,"packInfos",U,this)}).prototype,"bundleName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U=t(z.prototype,"packInfos",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=z))||R));!function(e){e[e.Square=0]="Square",e[e.Triangle=1]="Triangle",e[e.Hexagon=2]="Hexagon"}(j||(j=e("LevelType",{}))),function(e){e[e.Blank=0]="Blank",e[e.Block=1]="Block",e[e.Normal=2]="Normal"}(Q||(Q=e("CellType",{})));var $=e("CellPos",function(){function e(e,t){this.x=void 0,this.y=void 0,this.x=e,this.y=t}var t=e.prototype;return t.ToString=function(){return"[{"+this.x+"},{"+this.y+"}]"},t.Equals=function(e){return!!e&&(this.x==e.x&&this.y==e.y)},t.Copy=function(){return new e(this.x,this.y)},e}()),ee=e("Shape",(function(){this.index=void 0,this.bounds=void 0,this.cellPositions=void 0}));e("LevelHandler",(H=V("LevelHandler"),O=X(Z),H((q=t((J=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,i(t,"bundleInfos",q,r(t)),t.isLevelFileParsed=!1,t.levelType=void 0,t.xCells=void 0,t.yCells=void 0,t.gridCellType=void 0,t.shapes=void 0,t.curLevelPos=-1,t.curPack=null,t.curPacks=[],t.userData=[],t}n(t,e);var s=t.prototype;return s.onLoad=function(){},s.start=function(){this.parseBundleInfo(),this.getSaveData(),h.instance.on(p.UPDATE_SELECT_LEVEL,this.updateSelectLevel,this),h.instance.on(p.UPDATE_CUR_LEVEL_POS,this.updateCurLevelPos,this),h.instance.on(p.NEXT_LEVEL,this.onNextLevel,this),h.instance.on(p.UPDATE_CURRENT_PACK,this.updateCurrentPack,this),h.instance.on(p.LEVEL_COMPLETE,this.onLevelComplete,this)},s.update=function(e){},s.getSaveData=function(){var e=localStorage.getItem(f.userData);this.userData=e?JSON.parse(e):null},s.updateSelectLevel=function(e){this.parseLevelFile(e)},s.parseLevelFile=function(e){var t=this;if(e){var i=e.split(","),n=0;i[n++];this.levelType=Number(i[n++]);i[n++].toLocaleLowerCase();this.yCells=Number(i[n++]),this.xCells=Number(i[n++]),this.gridCellType=[[]];for(var r=new Map,s=0;s<this.yCells;s++){this.gridCellType.push([]);for(var a=0;a<this.xCells;a++){var l=Number(i[n++]);if(0==l)this.gridCellType[s].push(Q.Blank);else if(1==l)this.gridCellType[s].push(Q.Block);else{this.gridCellType[s].push(Q.Normal);var o=[];r.has(l)?o=r.get(l):(o.push(Number.MAX_SAFE_INTEGER),o.push(Number.MIN_SAFE_INTEGER),o.push(Number.MAX_SAFE_INTEGER),o.push(Number.MIN_SAFE_INTEGER),r.set(l,o)),o[0]=Math.min(o[0],a),o[1]=Math.max(o[1],a),o[2]=Math.min(o[2],s),o[3]=Math.max(o[3],s),o.push(a),o.push(s)}}}this.shapes=[];var c=0;r.forEach((function(e,i){var n=e,r=n[0],s=n[1],a=n[2],l=n[3],o=new ee;o.index=c++,o.bounds=new u(r,a,s-r+1,l-a+1),o.cellPositions=[];for(var h=4;h<n.length;h+=2)o.cellPositions.push(new $(n[h],n[h+1]));t.shapes.push(o)})),this.isLevelFileParsed=!0,h.instance.emit(p.SHOW_SCREEN,v.GAME_SCREEN),h.instance.emit(p.PLAY_GAME)}},s.updateCurLevelPos=function(e){this.curLevelPos=e},s.onNextLevel=function(){if(this.curLevelPos+1<this.curPack.levelFiles.length)this.curLevelPos+=1,this.parseLevelFile(this.curPack.levelFiles[this.curLevelPos].text);else{for(var e=-1,t=0;t<this.curPacks.length;++t)this.curPacks[t].packName==this.curPack.packName&&(e=t+1);-1!=e&&e<this.curPacks.length&&(this.curLevelPos=0,this.curPack=this.curPacks[e],this.parseLevelFile(this.curPack.levelFiles[this.curLevelPos].text))}h.instance.emit(p.UPDATE_HEADER_TEXT,v.GAME_SCREEN)},s.parseBundleInfo=function(){var e=this.bundleInfos[0];this.curPacks=e.packInfos},s.updateCurrentPack=function(e){this.curPack=e},s.getUserData=function(){return this.userData},s.onLevelComplete=function(){var e,t=this;this.curPack.packId,this.curLevelPos;var i={bundleId:this.curPack.packId,opennedLevel:this.curLevelPos+1};if(!this.userData){var n=[];return n.push(i),this.userData=n,void localStorage.setItem(f.userData,JSON.stringify(this.userData))}if(0==(null==(e=this.userData)?void 0:e.length))this.userData.push(i),localStorage.setItem(f.userData,JSON.stringify(this.userData));else{var r=this.userData.find((function(e){return e.bundleId==t.curPack.packId}));r?r.opennedLevel<this.curLevelPos+1&&(r.opennedLevel=this.curLevelPos+1):this.userData.push(i),localStorage.setItem(f.userData,JSON.stringify(this.userData))}console.log("USER DATA: ",this.userData),!d.instance.isOfflineMode()&&d.instance.postScore(this.userData)},s.getCurLevelNum=function(){return this.curLevelPos},t}(c)).prototype,"bundleInfos",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=J))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/LevelItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./SDKManager.ts","./c98.public-api.ts","./Toast.ts","./TextWrapper.ts"],(function(e){"use strict";var t,n,i,o,r,l,c,a,s,u,p,f,v,E,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,c=e.Label,a=e.Node,s=e.NodeEventType,u=e.Component},function(e){p=e.default,f=e.EventName},function(e){v=e.SDKManager},null,function(e){E=e.Toast},function(e){d=e.TextWrapper}],execute:function(){var L,T,h,m,b,_,g,S,I;r._RF.push({},"5416cfck49EKYYcRW6xUzYO","LevelItem",void 0);var x=l.ccclass,y=l.property;e("LevelItem",(L=x("LevelItem"),T=y(c),h=y(a),m=y(a),L((g=t((_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"levelNumber",g,o(t)),i(t,"starIcon",S,o(t)),i(t,"LockedIcon",I,o(t)),t.levelFileText="",t.locked=!1,t}n(t,e);var r=t.prototype;return r.start=function(){this.node.on(s.TOUCH_END,this.onClick,this)},r.update=function(e){},r.setup=function(e,t){this.levelNumber.string=e.toString(),this.levelFileText=t.text},r.onClick=function(){var e=this;this.locked||(v.instance.isOfflineMode()?(p.instance.emit(f.UPDATE_CUR_LEVEL_POS,this.node.getSiblingIndex()),p.instance.emit(f.UPDATE_SELECT_LEVEL,this.levelFileText)):v.instance.startSession((function(t){t?(p.instance.emit(f.UPDATE_CUR_LEVEL_POS,e.node.getSiblingIndex()),p.instance.emit(f.UPDATE_SELECT_LEVEL,e.levelFileText)):E(d.getText("TXT_START_SESSION_FAILED"))})))},r.setLockStatus=function(e){this.LockedIcon.active=e,this.levelNumber.node.active=!e,this.locked=e},r.setCompleteStatus=function(e){this.starIcon.active=e},t}(u)).prototype,"levelNumber",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(_.prototype,"starIcon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(_.prototype,"LockedIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=_))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelListScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Screen.ts","./EventMgr.ts","./LevelHandler.ts","./LevelItem.ts","./Define.ts"],(function(e){"use strict";var t,n,i,l,o,r,a,s,u,c,f,v,p,d,h,L,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.Label,s=e.Prefab,u=e.Node,c=e.find,f=e.instantiate},function(e){v=e.Screen},function(e){p=e.default,d=e.EventName},function(e){h=e.LevelHandler},function(e){L=e.LevelItem},function(e){b=e.PackID}],execute:function(){var I,g,m,P,S,C,k,N,y;o._RF.push({},"0bf41d3Q0RBRZaHRfTTvUkA","LevelListScreen",void 0);var E=r.ccclass,D=r.property;e("LevelListScreen",(I=E("LevelListScreen"),g=D(a),m=D(s),P=D(u),I((k=t((C=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"packName",k,l(t)),i(t,"levelItemPrefab",N,l(t)),i(t,"levelListContainer",y,l(t)),t.bundleInfo=void 0,t}n(t,e);var o=t.prototype;return o.onLoad=function(){console.log("ON LOAD LEVEL LIST SCREEN"),p.instance.on(d.UPDATE_PACK_INFO,this.updatePackInfo,this)},o.onEnable=function(){this.setup()},o.updatePackInfo=function(e){console.log("UDPATE PACK INFO"),this.bundleInfo=e,this.setup()},o.update=function(e){},o.setup=function(){if(this.bundleInfo){var e=c("LevelHandler").getComponent(h).getUserData();this.packName.string=this.bundleInfo.packName;var t,n=this.bundleInfo.packId,i=0;if(e)(i=null==(t=e.find((function(e){return e.bundleId==n})))?void 0:t.opennedLevel)||(i=0);n!=b.START_PACK||i||(i=0);for(var l=this.levelListContainer.children,o=0;o<this.bundleInfo.levelFiles.length;++o){var r=this.bundleInfo.levelFiles[o];if(l[o]){var a=l[o],s=a.getComponent(L);s.setup(o+1,r),a.setSiblingIndex(o),a.active=!0,s.setLockStatus(o>i),s.setCompleteStatus(o<i)}else{var u=f(this.levelItemPrefab),v=u.getComponent(L);v.setup(o+1,r),this.levelListContainer.addChild(u),v.setLockStatus(o>i),v.setCompleteStatus(o<i)}}if(l.length>this.bundleInfo.levelFiles.length)for(var p=this.bundleInfo.levelFiles.length;p<l.length;++p)l[p].active=!1}else console.log("BUNDLE INFO EMPTY")},t}(v)).prototype,"packName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(C.prototype,"levelItemPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(C.prototype,"levelListContainer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=C))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/LocalData.ts",["cc","./SDKManager.ts"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.sys},function(e){r=e.SDKManager}],execute:function(){t._RF.push({},"179e4FiTJJOk4zXX9fYZdEd","LocalData",void 0);e("LocalData",function(){function e(){}return e.getItem=function(e,t){void 0===t&&(t=null);var r=this._getKey(e,t);return n.localStorage.getItem(r)},e.setItem=function(e,t,r){void 0===r&&(r=null);var a=this._getKey(e,r);n.localStorage.setItem(a,t)},e.removeItem=function(e,t){void 0===t&&(t=null);var r=this._getKey(e,t);n.localStorage.removeItem(r)},e.clear=function(e){n.localStorage.clear()},e._getKey=function(e,t){return this._prefix(t)+"_"+e},e._prefix=function(t){return r.instance.getGameId()+"_"+e._finalizeUserId(t)},e._finalizeUserId=function(e){return null==e&&(e=r.instance.getUserProfileId()),null==e&&(e=""),e},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["cc"],(function(r){"use strict";var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"d00747QtRpBX65YoZC2epPY","Logger",void 0);var o=r("Logger",function(){function r(){}return r.log=function(n){if(r.ENABLED){for(var o=arguments.length,e=new Array(o>1?o-1:0),t=1;t<o;t++)e[t-1]=arguments[t];console.log(this.TAG+" "+n,e)}},r.error=function(n){if(r.ENABLED){for(var o=arguments.length,e=new Array(o>1?o-1:0),t=1;t<o;t++)e[t-1]=arguments[t];console.error(this.TAG+" "+n,e)}},r.warn=function(n){if(r.ENABLED){for(var o=arguments.length,e=new Array(o>1?o-1:0),t=1;t<o;t++)e[t-1]=arguments[t];console.warn(this.TAG+" "+n,e)}},r.info=function(n){if(r.ENABLED){for(var o=arguments.length,e=new Array(o>1?o-1:0),t=1;t<o;t++)e[t-1]=arguments[t];console.info(this.TAG+" "+n,e)}},r}());o.TAG="[C98SDK]",o.ENABLED=!0,n._RF.pop()}}}));

System.register("chunks:///_virtual/LoginScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./c98.public-api.ts","./Screen.ts","./EventMgr.ts","./TextWrapper.ts","./SDKManager.ts"],(function(n){"use strict";var e,t,i,r,o,a,c,s,l,u,p,g,f;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,c=n.Label,s=n.NodeEventType},null,function(n){l=n.Screen},function(n){u=n.default,p=n.EventName},function(n){g=n.TextWrapper},function(n){f=n.SDKManager}],execute:function(){var L,T,h,S,_;o._RF.push({},"350a9azuehJHqOTalIkT+74","LoginScreen",void 0);var b=a.ccclass,v=a.property;n("LoginScreen",(L=b("LoginScreen"),T=v(c),L((_=e((S=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o))||this,i(e,"loginLabel",_,r(e)),e}t(e,n);var o=e.prototype;return o.start=function(){this.show(),u.instance.on(p.LOGIN_FAIL,this.onLoginFail,this)},o.update=function(n){},o.show=function(){this.loginLabel.string=g.getText(g.KEYS.TXT_NOTI_LOGINING)},o.onLoginFail=function(){this.loginLabel.string=g.getText(g.KEYS.TXT_LOGIN_FAILED_TAP_TO_EXIT),this.loginLabel.fontSize=30,this.node.on(s.TOUCH_START,(function(){f.instance.exit()}))},e}(l)).prototype,"loginLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=S))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Define.ts","./EventMgr.ts","./Cell.ts","./GameArea.ts","./GameScreen.ts","./LevelHandler.ts","./ShapeCover.ts","./ShapeHolder.ts","./Popup.ts","./PopupManager.ts","./Screen.ts","./ScreenManager.ts","./SoundManager.ts","./BundleScreen.ts","./Button.ts","./LevelCompletePopup.ts","./LevelItem.ts","./LevelListScreen.ts","./LoginScreen.ts","./MainScreen.ts","./PackListItem.ts","./ProgressBar.ts","./SettingPopup.ts","./ToggleButton.ts","./TopBar.ts","./Utilities.ts","./SDKManager.ts","./IManager.ts","./c98.public-api.ts","./SDKEntry.ts","./Toast.ts","./Route.ts","./EventManager.ts","./Events.ts","./TextWrapper.ts","./NativeBridge.ts","./NetworkRequest.ts","./LocalData.ts","./Encryptor.ts","./GameService.ts","./Logger.ts","./Utils.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Screen.ts","./EventMgr.ts","./Define.ts"],(function(e){"use strict";var n,t,i,r,o,a,l,c,s,u,f,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,c=e.NodeEventType},function(e){s=e.Screen},function(e){u=e.default,f=e.EventName},function(e){p=e.ScreenID}],execute:function(){var h,y,g,T,C,S,m,B,b;o._RF.push({},"0c215XIsllBfa3rYjvuwloZ","MainScreen",void 0);var v=a.ccclass,d=a.property;e("MainScreen",(h=v("MainScreen"),y=d(l),g=d(l),T=d(l),h((m=n((S=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"playBtn",m,r(n)),i(n,"exitBtn",B,r(n)),i(n,"shareBtn",b,r(n)),n}t(n,e);var o=n.prototype;return o.start=function(){this.playBtn.on(c.TOUCH_START,this.onPlayClick,this),this.exitBtn.on(c.TOUCH_START,this.onExitClick,this),this.shareBtn.on(c.TOUCH_START,this.onShareClick,this)},o.update=function(e){},o.onPlayClick=function(){console.log("ON PLAY CLICK"),u.instance.emit(f.SHOW_SCREEN,p.BUNDLES),globalThis.TelegramGameProxy.shareScore()},o.onExitClick=function(){console.log("on EXIT CLICK"),globalThis.TelegramGameProxy.gameOver()},o.onShareClick=function(){console.log("on SHARE CLICK");globalThis.TelegramGameProxy.sendBotData("6410599566:AAEmFj21TQZCg9exCB6Fwqli7t61-Jxlad8","1","Invite a friend","")},n}(s)).prototype,"playBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(S.prototype,"exitBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(S.prototype,"shareBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=S))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/NativeBridge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Events.ts"],(function(e){"use strict";var t,n,i,a;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy},function(e){i=e.EventManager},function(e){a=e.Events}],execute:function(){n._RF.push({},"5ddbd1ApSFI8ppmpOw4Q6zJ","NativeBridge",void 0);var o=e("NativeBridge",function(){function e(){this._events=void 0,this._events=new Map}var n=e.prototype;return n.init=function(){},n.dispatchEventToNative=function(e,t){void 0===t&&(t=""),console.info("[NativeBridge] <dispatchEventToNative> eventName = "+e+", data = "+t)},n.addNativeEventListener=function(e,t){console.info("[NativeBridge] <addNativeEventListener> eventName = "+e),this._events.get(e)||this._events.set(e,[]);var n=this._events.get(e);n.indexOf(t)<0&&n.push(t)},n.removeNativeEventListener=function(e,t){console.info("[NativeBridge] <removeNativeEventListener> eventName = "+e);var n=this._events.get(e);if(!n)return console.info("[NativeBridge] <removeNativeEventListener> Event not found! eventName = "+e),!1;for(var i=0,a=n.length;i<a;i++)if(n[i]===t)return console.info("[NativeBridge] <removeNativeEventListener> Listener was removed!"),n.splice(i,1),!0;return console.info("[NativeBridge] <removeNativeEventListener> Listener not found!"),!1},n.removeAllListenersForEvent=function(e){return console.info("[NativeBridge] <removeAllListenersForEvent>"),this._events.delete(e)},n.removeAllListeners=function(){this._events.clear()},n.triggerEvent=function(e,t){var n=this._events.get(e);n?n.map((function(e){return e&&e.call(null,t)})):console.warn("[NativeBride] <triggerEvent> "+e+" does not exist")},n.stopGame=function(){this.dispatchEventToNative(e.EVENT_STOP_GAME)},n.onGameLoaded=function(){window.onGameDataFromNative(JSON.stringify({walletId:"0xB37F97cB93e9af4FA9CD2e6B206f57b6B42b9CfE",signature:"0x7966985fb5bdadf623e2ba565244b490679d563a6233ddfa95628cc851eb893a763414095c870b511870591e6c5a50e2aab2a6833e0f19436c023c9910baec931b",host:"https://gameverse-api-dev.coin98.dev"}))},n.onGameOfflineLoaded=function(){},t(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}());o.EVENT_STOP_GAME="EVENT_STOP_GAME",o.EVENT_FROM_COCOS_TO_REACT="EVENT_FROM_COCOS_TO_REACT",o.EVENT_GAME_LOADED="EVENT_GAME_LOADED",o._instance=void 0,window.onGameDataFromNative=function(e){i.instance.emit(a.C98_ON_GAME_DATA_FROM_NATIVE,e)},n._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkRequest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o;return{setters:[function(t){e=t.extends},function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"aa4fdbDd4BLGqTRFfB6aAHx","NetworkRequest",void 0);var n=t("NetworkRequest",function(){function t(e,o){void 0===o&&(o=t.DEFAULT_TIMEOUT),this.url=void 0,this.timeout=void 0,this.method=void 0,this.body=void 0,this.headers=void 0,this.onResponseCallback=void 0,this.onTimeoutCallback=void 0,this.onErrorCallback=void 0,this.url=e,this.timeout=o,this.method="GET"}t.get=function(e,o){return void 0===o&&(o=t.DEFAULT_TIMEOUT),new t(e,o)},t.post=function(e,o){return void 0===o&&(o=t.DEFAULT_TIMEOUT),new t(e,o).setMethod("POST")},t.put=function(e,o){return void 0===o&&(o=t.DEFAULT_TIMEOUT),new t(e,o).setMethod("PUT")};var o=t.prototype;return o.setMethod=function(t){return this.method=t,this},o.setBody=function(t){return this.body=t,this},o.setHeaders=function(t){return this.headers=t,this},o.onResponse=function(t){return this.onResponseCallback=t,this},o.onTimeout=function(t){return this.onTimeoutCallback=t,this},o.onError=function(t){return this.onErrorCallback=t,this},o.send=function(){var o,n,i=this,s=new Promise((function(t,e){o=setTimeout((function(){i.onTimeoutCallback&&i.onTimeoutCallback(),e(new Error("Request timed out"))}),i.timeout)}));n=this.headers?e({},t.DefaultHeaders,this.headers):e({},t.DefaultHeaders);var r=fetch(this.url,{method:this.method,body:JSON.stringify(this.body),headers:n}).then((function(t){if(clearTimeout(o),!t.ok)throw new Error("[NetworkUtils] - HTTP "+i.method+" request failed with status "+t.status);return t.json()}));Promise.race([r,s]).then((function(t){i.onResponseCallback&&i.onResponseCallback(t)})).catch((function(t){clearTimeout(o),"Request timed out"!==t.message&&i.onErrorCallback&&i.onErrorCallback(t)}))},t}());n.DEFAULT_TIMEOUT=5e3,n.DefaultHeaders={"Content-Type":"application/json"},o._RF.pop()}}}));

System.register("chunks:///_virtual/PackListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProgressBar.ts","./LevelHandler.ts","./EventMgr.ts","./Define.ts"],(function(e){"use strict";var t,n,i,r,a,o,c,s,u,l,p,d,f,k,h,g,v,b,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Label,s=e.Node,u=e.NodeEventType,l=e.find,p=e.Component},function(e){d=e.ProgressBar},function(e){f=e.LevelHandler,k=e.PackUnlockType},function(e){h=e.default,g=e.EventName},function(e){v=e.ScreenID,b=e.Define,m=e.PackID}],execute:function(){var C,P,T,L,I,y,A,x,D,S,w,_,z,E,H,B,N,R,U,F,K;a._RF.push({},"18fdfmhFeZKhIeQb6HwQLX1","PackListItem",void 0);var O=o.ccclass,j=o.property;e("PackListItem",(C=O("PackListItem"),P=j(c),T=j(c),L=j(d),I=j(c),y=j(s),A=j(s),x=j(s),D=j(c),S=j(c),C((z=t((_=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"nameText",z,r(t)),i(t,"descriptionText",E,r(t)),i(t,"progressBarContainer",H,r(t)),i(t,"progressText",B,r(t)),i(t,"lockedContainer",N,r(t)),i(t,"coinsLockedContainer",R,r(t)),i(t,"iapLockedContainer",U,r(t)),i(t,"coinsAmountText",F,r(t)),i(t,"iapText",K,r(t)),t.data=null,t.isLocked=!1,t}n(t,e);var a=t.prototype;return a.onEnable=function(){this.updateStatus(this.data)},a.start=function(){this.node.on(u.TOUCH_START,this.onClick,this)},a.update=function(e){},a.onClick=function(){this.isLocked||(h.instance.emit(g.SHOW_SCREEN,v.PACK_LEVELS),h.instance.emit(g.UPDATE_PACK_INFO,this.data),h.instance.emit(g.UPDATE_CURRENT_PACK,this.data))},a.setup=function(e){this.data=e,this.nameText.string=e.packName,this.descriptionText.string=e.packDescription,this.updateStatus(this.data)},a.checkLock=function(){if(b.cheatAll)return!1;if(this.data.packId==m.START_PACK)return!1;if(this.isPreviousPackCompleted())return!1;var e=l("LevelHandler").getComponent(f).getUserData();if(e)for(var t=0;t<e.length;++t)if(e[t].bundleId==this.data.packId&&e[t].opennedLevel>=0)return!1;return!0},a.isPreviousPackCompleted=function(){var e=this,t=l("LevelHandler").getComponent(f);if(!t.userData)return!1;for(var n=function(){if(e.data.packId==t.curPacks[i].packId){var n=t.curPacks[i-1].packId,r=t.userData.find((function(e){return e.bundleId==n}));if((null==r?void 0:r.opennedLevel)==t.curPacks[i-1].levelFiles.length)return{v:!0}}},i=0;i<t.curPacks.length;++i){var r=n();if("object"==typeof r)return r.v}return!1},a.SetIAPText=function(e){this.iapText.string="IAP not enabled"},a.setLockStatus=function(e){this.lockedContainer.active=e},a.updateStatus=function(e){if(e){var t=this.checkLock();if(this.isLocked=t,this.lockedContainer.active=t,this.progressBarContainer.node.active=!t,this.coinsLockedContainer.active=t&&e.unlockType==k.Coins,this.iapLockedContainer.active=t&&e.unlockType==k.IAP,t)switch(e.unlockType){case k.Coins:this.coinsAmountText.string=e.unlockCoinsAmount.toString();break;case k.IAP:this.SetIAPText(e.unlockIAPProductId)}else{var n=e.levelFiles.length,i=0,r=l("LevelHandler").getComponent(f).getUserData();if(r){var a=r.find((function(t){return t.bundleId==e.packId}));a&&(i=a.opennedLevel)}this.progressBarContainer.node.active=!0,this.progressBarContainer.setProgress(Number(i/n)),this.progressText.string=i+" / "+n}}},t}(p)).prototype,"nameText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(_.prototype,"descriptionText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(_.prototype,"progressBarContainer",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(_.prototype,"progressText",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(_.prototype,"lockedContainer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(_.prototype,"coinsLockedContainer",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(_.prototype,"iapLockedContainer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(_.prototype,"coinsAmountText",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(_.prototype,"iapText",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=_))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/Popup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,o,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,p=t.Component}],execute:function(){var u,a,s,l,f;o._RF.push({},"09759U0hPVLj7SicwkM4Xbo","Popup",void 0);var h=c.ccclass,d=c.property;t("Popup",(u=h("Popup"),a=d(String),u((f=e((l=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,r(e,"id",f,n(e)),e}i(e,t);var o=e.prototype;return o.show=function(){this.node.active=!0},o.hide=function(){this.node.active=!1},e}(p)).prototype,"id",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=l))||s));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Popup.ts","./EventMgr.ts"],(function(t){"use strict";var e,n,o,r,p,i,a,u,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){p=t.cclegacy,i=t._decorator,a=t.Component},function(t){u=t.Popup},function(t){s=t.default,c=t.EventName}],execute:function(){var l,f,h,v,P;p._RF.push({},"f4ae1lmV2tG3JzvDMElj1vE","PopupManager",void 0);var g=i.ccclass,d=i.property;t("PopupManager",(l=g("PopupManager"),f=d(u),l((P=e((v=function(t){function e(){for(var e,n=arguments.length,p=new Array(n),i=0;i<n;i++)p[i]=arguments[i];return e=t.call.apply(t,[this].concat(p))||this,o(e,"popups",P,r(e)),e}n(e,t);var p=e.prototype;return p.start=function(){s.instance.on(c.SHOW_POPUP,this.onShowPopup,this)},p.update=function(t){},p.onShowPopup=function(t){for(var e=0;e<this.popups.length;++e){var n=this.popups[e].getComponent(u);n.id==t?n.show():n.hide()}},e}(a)).prototype,"popups",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=v))||h));p._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,o,s,a,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Node,l=e.UITransform,u=e.Widget,c=e.Component}],execute:function(){var p,f,h,g,d,m,y,P,b;o._RF.push({},"7fa0eXo2t9OmocLi++KBG2y","ProgressBar",void 0);var v=s.ccclass,z=s.property;e("ProgressBar",(p=v("ProgressBar"),f=z(a),h=z(a),g=z(Number),p((y=t((m=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"fillArea",y,n(t)),i(t,"fill",P,n(t)),i(t,"minSize",b,n(t)),t.nextProgress=0,t.setOnUpdate=!1,t}r(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){this.setOnUpdate&&(this.updateProgressUI(this.nextProgress),this.setOnUpdate=!1)},o.setProgress=function(e){this.node.parent.activeInHierarchy?this.updateProgressUI(e):(this.nextProgress=e,this.setOnUpdate=!0)},o.updateProgressUI=function(e){this.fill.getComponent(l).width=this.getBarWidth(e),this.fill.children.forEach((function(e){return e.getComponent(u).updateAlignment()}))},o.getBarWidth=function(e){this.fillArea.getComponent(u).updateAlignment();var t=this.fillArea.getComponent(l).width-this.minSize-16;return this.minSize+t*e},t}(c)).prototype,"fillArea",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(m.prototype,"fill",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(m.prototype,"minSize",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),d=m))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/Route.ts",["cc"],(function(s){"use strict";var e;return{setters:[function(s){e=s.cclegacy}],execute:function(){e._RF.push({},"52685WU15xM9pzisGvkbrkg","Route",void 0);var t=s("Route",(function(){}));t.LOGIN="/players/sign-in",t.GET_PROFILE="/players/profile",t.GET_CONFIG="/projects/{gameId}/configs",t.START_SESSION="/project-sessions/play",t.END_SESSION="/project-sessions/{sessionId}/result",t.POST_SCORE="/project-sessions/{sessionId}",e._RF.pop()}}}));

System.register("chunks:///_virtual/Screen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,i,c,o,a;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,a=e.Component}],execute:function(){var s,u,l,p,d;c._RF.push({},"ddbd8ewKTNP3aJ/2ovsX6yA","Screen",void 0);var f=o.ccclass,y=o.property;e("Screen",(s=f("Screen"),u=y(String),s((d=r((p=function(e){function r(){for(var r,t=arguments.length,c=new Array(t),o=0;o<t;o++)c[o]=arguments[o];return r=e.call.apply(e,[this].concat(c))||this,n(r,"id",d,i(r)),r}return t(r,e),r}(a)).prototype,"id",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=p))||l));c._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Screen.ts","./Define.ts","./EventMgr.ts","./SDKManager.ts","./c98.public-api.ts","./Events.ts","./EventManager.ts"],(function(e){"use strict";var n,t,i,r,c,o,s,a,u,h,l,p,S,f,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){c=e.cclegacy,o=e._decorator,s=e.Node,a=e.Component},function(e){u=e.Screen},function(e){h=e.ScreenID},function(e){l=e.default,p=e.EventName},function(e){S=e.SDKManager},null,function(e){f=e.Events},function(e){g=e.EventManager}],execute:function(){var d,v,E,m,I,N,_;c._RF.push({},"9611bIZR1tAf4t32qkKqDpQ","ScreenManager",void 0);var b=o.ccclass,D=o.property;e("ScreenManager",(d=b("ScreenManager"),v=D(String),E=D(s),d((N=n((I=function(e){function n(){for(var n,t=arguments.length,c=new Array(t),o=0;o<t;o++)c[o]=arguments[o];return n=e.call.apply(e,[this].concat(c))||this,i(n,"homeScreenId",N,r(n)),i(n,"screens",_,r(n)),n.curScreen=void 0,n.screenStack=[],n.needToShowScreenId="",n}t(n,e);var c=n.prototype;return c.onLoad=function(){g.instance.on(f.C98_ON_LOGIN_RESPONSE,this.onLoginResponse,this),l.instance.on(p.SHOW_SCREEN,this.show,this),l.instance.on(p.BACK_SCREEN,this.back,this),this.show(h.LOGIN,!0)},c.onLoginResponse=function(e){var n=JSON.parse(e);console.log("LOGIN res: ",n.result),n.result?this.show(this.homeScreenId):l.instance.emit(p.LOGIN_FAIL)},c.start=function(){},c.update=function(e){},c.show=function(e,n){var t;if(void 0===n&&(n=!1),e!=(null==(t=this.curScreen)?void 0:t.getComponent(u).id)){var i=this.screens.find((function(n){return n.getComponent(u).id==e}));i&&(i.active=!0,this.curScreen&&(this.curScreen.node.active=!1),this.curScreen=i.getComponent(u),!n&&this.screenStack.push(e),l.instance.emit(p.UPDATE_HEADER_TEXT,e)),this.screens.forEach((function(n){n.getComponent(u).id!=e&&(n.active=!1)}))}},c.back=function(){this.screenStack.length>1?(this.screenStack.pop(),this.show(this.screenStack[this.screenStack.length-1],!0)):(console.log("END GAME"),S.instance.exit())},n}(a)).prototype,"homeScreenId",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=n(I.prototype,"screens",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=I))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/SDKEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NativeBridge.ts","./SDKManager.ts"],(function(e){"use strict";var n,i,t,r,a,o,s,c,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Component},function(e){c=e.NativeBridge},function(e){f=e.SDKManager}],execute:function(){var l,u,d,p;a._RF.push({},"db0b4IOMnpA6IUgwbaa9JZJ","SDKEntry",void 0);var g=o.ccclass,y=o.property;e("default",g("SDKEntry")((d=n((u=function(e){function n(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,t(n,"gameId",d,r(n)),t(n,"isOffline",p,r(n)),n}i(n,e);var a=n.prototype;return a.onLoad=function(){if(!f.instance.isReady()){if(f.instance.init(this.gameId),c.instance.init(),this.isOffline)return console.log("OFFLINE MODE"),c.instance.onGameOfflineLoaded(),f.instance.setPlayMode(this.isOffline),void f.instance.onOfflineModeStart();c.instance.onGameLoaded()}},a.exitGame=function(){f.instance.exit()},a.isOfflineMode=function(){return this.isOffline},n}(s)).prototype,"gameId",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=n(u.prototype,"isOffline",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=u))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/SDKManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Toast.ts","./EventManager.ts","./Events.ts","./TextWrapper.ts","./NativeBridge.ts","./GameService.ts","./Logger.ts"],(function(e){"use strict";var t,n,i,s,a,o,r,g,u;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy},function(e){i=e.Toast},function(e){s=e.EventManager},function(e){a=e.Events},function(e){o=e.TextWrapper},function(e){r=e.NativeBridge},function(e){g=e.GameService},function(e){u=e.Logger}],execute:function(){n._RF.push({},"a55adV2Y59ABL2PGB//4yEP","SDKManager",void 0);var c=e("SDKManager",function(){var e=n.prototype;function n(){this._game=null,this._isInit=!1,this._isOffline=!1,this._game=new g,s.instance.on(a.C98_ON_GAME_DATA_FROM_NATIVE,this.onGameDataFromNative.bind(this))}return e.isReady=function(){return this._isInit},e.init=function(e){this._isInit||(this._isInit=!0,u.log("[SDKManager] - <init> "+e),this._game.setGameId(e))},e.onGameDataFromNative=function(e){if(u.log("[SDKManager] - <onGameDataFromNative> "+e),!this._isOffline){var t=e?JSON.parse(e):{},n=t.walletId||"",i=t.signature||"",s=t.host||"";this._game.setWalletId(n),this._game.setSignature(i),s&&this._game.setHost(s),this._game.login(this.onLoginResponse.bind(this))}},e.onLoginResponse=function(e){if(u.log("[SDKManager] - <onLoginResponse> "+e),!e)return i(o.getText("TXT_LOGIN_FAILED")),void s.instance.emit(a.C98_ON_LOGIN_RESPONSE,'{"result": '+e+"}");this._game.requestUserProfile((function(e){s.instance.emit(a.C98_ON_LOGIN_RESPONSE,'{"result": '+e+"}")})),this._game.requestGameConfig()},e.getUserProfileId=function(){return this._game.getUserId()},e.getGameId=function(){return this._game.getGameId()},e.startSession=function(e){u.log("[SDKManager] - <startSession>"),this._game.startSesssion(e)},e.endSession=function(e,t){u.log("[SDKManager] - <endSession> "+e),this._game.endSesssion(e,t)},e.postScore=function(e,t){void 0===t&&(t=function(){}),u.log("[SDKManager] - <postScore> "+e),this._game.postScore(e,t)},e.exit=function(){u.log("[SDKManager] - <exit>"),this._game.setGameId(""),this._game.logout(),r.instance.stopGame()},e.isOfflineMode=function(){return this._isOffline},e.setPlayMode=function(e){this._isOffline=e},e.onOfflineModeStart=function(){s.instance.emit(a.C98_ON_LOGIN_RESPONSE,'{"result": true}')},e.checkOffline=function(){this._isOffline&&this.onOfflineModeStart()},t(n,null,[{key:"instance",get:function(){return n._instance||(n._instance=new n),n._instance}}]),n}());c._instance=null,c.USE_C98_SDK=!0,n._RF.pop()}}}));

System.register("chunks:///_virtual/SettingPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Popup.ts","./ToggleButton.ts","./SoundManager.ts"],(function(t){"use strict";var e,n,o,i,u,r,s,a,l,c,g,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){u=t.cclegacy,r=t._decorator,s=t.Node,a=t.NodeEventType,l=t.find},function(t){c=t.Popup},function(t){g=t.ToggleButton},function(t){p=t.SoundManager}],execute:function(){var S,f,d,h,T,m,y,b,v;u._RF.push({},"2504eaL7P9JvY37AvnNOQy2","SettingPopup",void 0);var C=r.ccclass,P=r.property;t("SettingPopup",(S=C("SettingPopup"),f=P(s),d=P(g),h=P(g),S((y=e((m=function(t){function e(){for(var e,n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return e=t.call.apply(t,[this].concat(u))||this,o(e,"closeBtn",y,i(e)),o(e,"musicSettingToggle",b,i(e)),o(e,"soundSettingToggle",v,i(e)),e}n(e,t);var u=e.prototype;return u.onEnable=function(){this.updateStatus()},u.start=function(){this.closeBtn.on(a.TOUCH_START,this.onCloseClick,this)},u.update=function(t){},u.updateStatus=function(){var t=l("SoundManager").getComponent(p);t.musicStatus?this.musicSettingToggle.getComponent(g).setStatus(!0):this.musicSettingToggle.getComponent(g).setStatus(!1),t.soundStatus?this.soundSettingToggle.getComponent(g).setStatus(!0):this.soundSettingToggle.getComponent(g).setStatus(!1)},u.onCloseClick=function(){t.prototype.hide.call(this)},e}(c)).prototype,"closeBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(m.prototype,"musicSettingToggle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(m.prototype,"soundSettingToggle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=m))||T));u._RF.pop()}}}));

System.register("chunks:///_virtual/ShapeCover.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,o,n;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,o=e._decorator,n=e.Component}],execute:function(){var c;r._RF.push({},"55adak8sVJFzZKAEB3fiXQD","ShapeCover",void 0);var s=o.ccclass;o.property,e("ShapeCover",s("ShapeCover")(c=function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var o=r.prototype;return o.start=function(){},o.update=function(e){},r}(n))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/ShapeHolder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cell.ts"],(function(e){"use strict";var t,o,n,i,r;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,i=e.Component},function(e){r=e.Cell}],execute:function(){var s;o._RF.push({},"74bd0g0PeNP846fTeMX4zO4","ShapeHolder",void 0);var h=n.ccclass;n.property,e("ShapeHolder",h("ShapeHolder")(s=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).oldScale=void 0,t.centerShape=void 0,t.topShape=void 0,t.originPos=void 0,t.shapeOrder=-1,t}t(o,e);var n=o.prototype;return n.start=function(){this.oldScale=this.node.scale.x,this.originPos=this.node.position.clone(),this.setCornerChild(!1)},n.update=function(e){},n.scaleChild=function(){this.setCornerChild(!0),this.node.setScale(1,1)},n.removeScaleChild=function(){this.setCornerChild(!1),this.node.setScale(this.oldScale,this.oldScale)},n.setCenterShape=function(e){this.centerShape=e.clone()},n.getCenterShape=function(){return this.centerShape},n.setTopShape=function(e){this.topShape=e},n.getTopShape=function(){return this.topShape},n.setToOriginPos=function(){this.node.setPosition(this.originPos)},n.setShapeOrder=function(e){this.shapeOrder=e},n.setCornerChild=function(e){for(var t=0;t<this.node.children.length;t++){this.node.children[t].getComponent(r).setCornerShow(e)}},o}(i))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./Define.ts"],(function(t){"use strict";var i,n,u,o,s,e,a,r,c,d,S,l,h,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,u=t.inheritsLoose,o=t.assertThisInitialized},function(t){s=t.cclegacy,e=t._decorator,a=t.AudioClip,r=t.AudioSource,c=t.Component},function(t){d=t.default,S=t.EventName},function(t){l=t.LocalDataKey,h=t.SoundID,p=t.ToggleID}],execute:function(){var g,f,m,y,v,b,C,D,I,M,N,k;s._RF.push({},"cfd7e4dq85Opp0KvHQU4Is5","SoundManager",void 0);var B=e.ccclass,O=e.property,A=e.executeInEditMode,L=t("Sound",(g=B("Sound"),f=O(String),m=O(a),g(y=A((b=i((v=function(){n(this,"id",b,this),n(this,"audioClip",C,this)}).prototype,"id",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=i(v.prototype,"audioClip",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y)||y));t("SoundManager",(D=B("SoundManager"),I=O(L),D((k=i((N=function(t){function i(){for(var i,u=arguments.length,s=new Array(u),e=0;e<u;e++)s[e]=arguments[e];return i=t.call.apply(t,[this].concat(s))||this,n(i,"sounds",k,o(i)),i.audioSource=void 0,i.userSetting=void 0,i.soundStatus=!0,i.musicStatus=!0,i.soundVolumn=1,i}u(i,t);var s=i.prototype;return s.start=function(){this.getLocalStorageSetting(),this.audioSource=this.node.getComponent(r),d.instance.on(S.PLAY_SOUND,this.playSound,this),this.playBackgroundSound(),d.instance.on(S.CHANGE_SETTING,this.changeSetting,this)},s.getLocalStorageSetting=function(){var t=localStorage.getItem(l.userSetting);t&&(this.userSetting=JSON.parse(t),this.soundStatus=this.userSetting.sound,this.musicStatus=this.userSetting.music,this.soundVolumn=this.soundStatus?1:0)},s.update=function(t){},s.playBackgroundSound=function(){if(this.musicStatus){var t=this.sounds.find((function(t){return t.id==h.BACKGROUND}));t&&(this.audioSource.clip=t.audioClip,this.audioSource.loop=!0,this.audioSource.play())}},s.changeSetting=function(t){switch(t){case p.MUSIC:this.musicStatus=!this.musicStatus,this.musicStatus?this.playBackgroundSound():this.stopBackgroundSound();break;case p.SOUND:this.soundStatus=!this.soundStatus,this.soundVolumn=this.soundStatus?1:0}var i={music:this.musicStatus,sound:this.soundStatus};localStorage.setItem(l.userSetting,JSON.stringify(i))},s.stopBackgroundSound=function(){this.audioSource.stop()},s.playSound=function(t){var i=this.sounds.find((function(i){return i.id==t}));i&&this.audioSource.playOneShot(i.audioClip,this.soundVolumn)},i}(c)).prototype,"sounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=N))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/TextWrapper.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"af94c012rZAE6udfF+Pl7tQ","TextWrapper",void 0),e("TextWrapper",function(){function e(){}return e.getText=function(t){return e.KEYS[t]||t},e}()).KEYS={TXT_LOGIN_FAILED:"Login failed!",TXT_START_SESSION_FAILED:"Start session failed!",TXT_LOGIN_FAILED_TAP_TO_EXIT:"Login failed!\nTap to exit",TXT_NOTI_OFFLINE_MODE:"You are playing\noffline mode",TXT_NOTI_LOGINING:"Logining..."},t._RF.pop()}}}));

System.register("chunks:///_virtual/Toast.ts",["cc"],(function(t){"use strict";var o,i,e,n,a,d,l,r,h,s,c,g;return{setters:[function(t){o=t.cclegacy,i=t.color,e=t.director,n=t.Canvas,a=t.UITransform,d=t.Node,l=t.Label,r=t.Graphics,h=t.BlockInputEvents,s=t.view,c=t.tween,g=t.UIOpacity}],execute:function(){t("Toast",(function(t,o,v){void 0===t&&(t="");var T=void 0===o?{}:o,p=T.isIncludeBlockInput,f=void 0!==p&&p,u=T.gravity,C=void 0===u?"CENTER":u,w=T.duration,E=void 0===w?1:w,I=T.bg_color,S=void 0===I?i(102,102,102,200):I;void 0===v&&(v=function(){});var m=e.getScene().getComponentInChildren(n),y=m.node.getComponent(a),z=y.width,P=y.height,R=new d,M=new d,N=M.addComponent(l);N.horizontalAlign=l.HorizontalAlign.CENTER,N.verticalAlign=l.VerticalAlign.CENTER,N.fontSize=30,N.string=t;var O=M.getComponent(a);t.length*N.fontSize>3*z/5?(O.width=3*z/5,N.overflow=l.Overflow.RESIZE_HEIGHT):O.width=t.length*N.fontSize;var A=1+~~(t.length*N.fontSize/(3*z/5));O.height=N.fontSize*A;var _=R.addComponent(r);if(_.arc(-O.width/2,0,O.height/2+20,.5*Math.PI,1.5*Math.PI,!0),_.lineTo(O.width/2,-(O.height/2+20)),_.arc(O.width/2,0,O.height/2+20,1.5*Math.PI,.5*Math.PI,!0),f){R.addComponent(h);var b=s.getVisibleSize();R.addComponent(a).setContentSize(b.width,b.height),_.lineTo(-O.width/2,O.height/2+20)}else _.lineTo(-O.width/2,O.height/2+20);_.fillColor=S,_.fill(),R.addChild(M),"CENTER"===C?R.setPosition(0,0):"TOP"===C?R.setPosition(R.position.x,R.position.y+P/5*2):"BOTTOM"===C&&R.setPosition(R.position.x,R.position.y-P/5*2);console.log("TOASTTTTTTTT ",R.getPosition()),m.node.addChild(R),c(R).delay(E+.35).call((function(){return v()})).destroySelf().start();var H=R.getComponent(g);H&&c(H.opacity).delay(E).to(.3,0).start()})),o._RF.push({},"d38a0WuUUpEm6ZHbNavQjMs","Toast",void 0),o._RF.pop()}}}));

System.register("chunks:///_virtual/ToggleButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts"],(function(t){"use strict";var e,i,n,o,a,r,s,u,l,c,p,h,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,u=t.NodeEventType,l=t.Vec3,c=t.Sprite,p=t.Color,h=t.Component},function(t){f=t.default,d=t.EventName}],execute:function(){var b,g,y,v,T,m,w,L,S,E,I;a._RF.push({},"e7702HB4QpJUbGDXyDIWqfD","ToggleButton",void 0);var z=r.ccclass,B=r.property;t("ToggleButton",(b=z("ToggleButton"),g=B(String),y=B(s),v=B(s),T=B(s),b((L=e((w=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"id",L,o(e)),n(e,"handle",S,o(e)),n(e,"onLabel",E,o(e)),n(e,"offLabel",I,o(e)),e.status=!0,e}i(e,t);var a=e.prototype;return a.start=function(){this.updateUI(),this.node.on(u.TOUCH_START,this.switchStatus,this)},a.update=function(t){},a.switchStatus=function(){this.status=!this.status,this.updateUI(),f.instance.emit(d.CHANGE_SETTING,this.id)},a.updateUI=function(){this.onLabel.active=this.status,this.offLabel.active=!this.status,this.handle.setPosition(new l(this.status?45:-45,this.handle.position.y)),this.handle.getComponent(c).color=this.status?p.GREEN:p.GRAY},a.setStatus=function(t){this.status=t,this.updateUI()},e}(h)).prototype,"id",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=e(w.prototype,"handle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(w.prototype,"onLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(w.prototype,"offLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/TopBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./EventMgr.ts","./LevelHandler.ts"],(function(e){"use strict";var t,n,i,r,a,o,c,s,l,u,p,h,T,f,d,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Node,s=e.Label,l=e.NodeEventType,u=e.find,p=e.Component},function(e){h=e.PopupID,T=e.ScreenID},function(e){f=e.default,d=e.EventName},function(e){g=e.LevelHandler}],execute:function(){var E,b,B,v,C,k,L,S,y;a._RF.push({},"61161NeQTJAKqjOb1wCY/dA","TopBar",void 0);var _=o.ccclass,A=o.property;e("TopBar",(E=_("TopBar"),b=A(c),B=A(s),v=A(c),E((L=t((k=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"backBtn",L,r(t)),i(t,"headerText",S,r(t)),i(t,"settingBtn",y,r(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.backBtn.on(l.TOUCH_START,this.onBackBtnClick,this),this.settingBtn.on(l.TOUCH_START,this.onSettingClick,this),f.instance.on(d.UPDATE_HEADER_TEXT,this.updateHeaderText,this)},a.update=function(e){},a.onBackBtnClick=function(){f.instance.emit(d.BACK_SCREEN)},a.onSettingClick=function(){f.instance.emit(d.SHOW_POPUP,h.SETTING)},a.updateHeaderText=function(e){switch(e){case T.MAIN:this.headerText.string="";break;case T.BUNDLES:this.headerText.string="BUNDLES";break;case T.PACK_LEVELS:this.headerText.string="";break;case T.GAME_SCREEN:var t=u("LevelHandler").getComponent(g);t&&(this.headerText.string="LEVEL "+(t.getCurLevelNum()+1))}},t}(p)).prototype,"backBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(k.prototype,"headerText",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(k.prototype,"settingBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=k))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/Utilities.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9f16c3G/p9KKJ9c117lph1D","Utilities",void 0);t("default",new(function(){function t(){}return t.prototype.rectContains=function(t,e,n){return!(n.x<t.x||n.x>e.x||n.y<t.y||n.y>e.y)},t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"17c0dV82uxNNbB0s5V/HbH4","Utils",void 0);t("Utils",function(){function t(){}return t.splitString=function(t,i){var n=t.indexOf(i);return-1===n?[t,""]:[t.slice(0,n),t.slice(n)]},t}());i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});